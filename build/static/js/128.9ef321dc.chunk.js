(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[128],{1293:function(t,e,a){"use strict";var n=a(6),r=a(13),c=a(0),i=a.n(c),l=a(8),o=a(9),s=a(4),u=a(40),d=a(1334),b=a(1337),p=a(1331),m=a(1335),f=a(1336),O=a(2624),g=a(1245),h=a(1521),y=a(1261),j=a(159),v=a(1236),w=a(649),E=Object(v.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:t.spacing(1)},spin:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}}}}));var x=function(t){var e=E(),a=t.id,n=t.key,r=t.type,c=t.value,l=t.onChange,o=t.size,s=t.readOnly,u=t.startAdornment,d=t.endAdornment,b=t.inputProps;return i.a.createElement(w.a,{id:a,key:n,className:(e.margin,e.spin),value:c,onChange:l,type:r,size:o,readOnly:s,startAdornment:u,endAdornment:d,inputProps:b})},P=a(1291);e.a=i.a.memo((function(t){Object(l.c)();var e=Object(c.useState)(0),a=Object(r.a)(e,2),v=a[0],w=a[1],E=Object(c.useState)(20),A=Object(r.a)(E,2),k=A[0],N=A[1],S=Object(c.useState)({direction:"asc",id:null}),T=Object(r.a)(S,2),I=T[0],C=T[1],M=t.data.table.tableContent,_=t.data.table.headers,D=t.data.table.rows,R=t.data.table.columns,W=[];return t.sortable&&D.map((function(t,e){W.push(Object(n.a)({},M[t.value]))})),i.a.createElement("div",{className:"flex flex-col min-h-full sm:border-1 sm:rounded-8 overflow-hidden w-full"},""!==t.data.title&&i.a.createElement("div",{className:"flex items-center justify-between px-16 py-16 border-b-1"},i.a.createElement(j.a,{className:"text-16"},t.data.title)),i.a.createElement(u.a,{className:"flex-growNum overflow-x-auto"},i.a.createElement(d.a,{stickyHeader:!0,className:"min-w-full",size:"small","aria-labelledby":"tableTitle"},i.a.createElement(m.a,null,i.a.createElement(f.a,null,R.map((function(t,e){switch(t.id){case"avatar":return i.a.createElement(p.a,{key:t.id,rowSpan:t.rowSpan,align:t.align,className:Object(s.default)("whitespace-wrap p-0 text-xs p-12 border-r-1")},t.title);default:return i.a.createElement(p.a,{key:t.id,colSpan:t.colSpan,rowSpan:t.rowSpan,align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace-wrap p-0 text-xs p-12 \n\t\t\t\t\t\t\t\t\t\t\t\t\t".concat(e===R.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(t.color,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(t.border,"\n\t\t\t\t\t\t\t\t\t\t\t\t"))},t.title)}}))),i.a.createElement(f.a,null,_.map((function(e,a){return i.a.createElement(p.a,{key:e.id,component:"th",scope:"rowNum",align:"center",sortDirection:I.id===e.id&&I.direction,className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tw-md p-0 text-xs p-4 \n\t\t\t\t\t\t\t\t\t\t\t".concat(a===_.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(e.color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(_.length>0&&_[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},t.sortable&&i.a.createElement(g.a,{title:"Sort",placement:"right"===e.align?"bottom-end":"bottom-start",enterDelay:300},i.a.createElement(O.a,{active:I.id===e.id,direction:I.direction,onClick:(n=e.id,function(t){var e=n,a="desc";I.id===n&&"desc"===I.direction&&(a="asc"),C({direction:a,id:e})})},e.value.substring(e.value.indexOf("@")+1))),!t.sortable&&e.value.substring(e.value.indexOf("@")+1));var n})))),i.a.createElement(b.a,null,!t.sortable&&!o.a.isEmpty(M)&&Object.keys(M).map((function(e,a){return i.a.createElement(f.a,{className:"h-32",key:a},!t.hideLeftHeader&&i.a.createElement(p.a,{key:a,component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t\t".concat(D.length>0&&D[a].color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(D.length>0&&D[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},e),Object.keys(M[e]).map((function(n,r){return"id"!==n&&"type"!==n&&"month"!==n&&i.a.createElement(p.a,{key:"colKey_".concat(a,"_").concat(r),component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(r===Object.keys(M[e]).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(D.length>0&&D[a].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(_.length>0&&0===R.length&&_[r+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(_.length>0&&0!==R.length&&_[r].border,"\n\t\t\t\t\t\t\t\t\t\t"))},!t.editable&&0===R.length&&_.length>0&&Object(P.e)(M[e][_[r+1].value]),!t.editable&&0!==R.length&&_.length>0&&Object(P.e)(M[e][_[r].value]),t.editable&&i.a.createElement(x,{id:"contact phone number",key:"input_".concat(a,"_").concat(r),type:"number",value:Object(P.e)(M[e][n]),onChange:function(c){return function(e,a,n,r,c,i){t.onInputChange({tableName:e,row:a,col:n,rowKey:r,colKey:c,value:i})}(t.tableName,a,r,e,n,c.target.value)},size:"small",readOnly:!1,startAdornment:i.a.createElement(y.a,{position:"start"},t.startAdornment),endAdornment:i.a.createElement(y.a,{position:"start"},t.endAdornment),inputProps:{"aria-label":"naked"}}))})))})),t.sortable&&o.a.orderBy(W,[function(t){switch(I.id){case"categories":return t.categories[0];default:return t[I.id]}}],[I.direction]).slice(v*k,v*k+k).map((function(t,e){return i.a.createElement(f.a,{className:"h-32",key:e},i.a.createElement(p.a,{key:e,component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t".concat(D.length>0&&D[e].color,"\n\t\t\t\t\t\t\t\t\t\t").concat(D.length>0&&D[e].border,"\n\t\t\t\t\t\t\t\t\t"))},e+1),Object.keys(t).map((function(a,n){return"id"!==a&&"type"!==a&&"month"!==a&&i.a.createElement(p.a,{key:"colKey_".concat(e,"_").concat(n),component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(n===Object.keys(t).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(D.length>0&&t.border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(_.length>0&&0===R.length&&_[n+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(_.length>0&&0!==R.length&&_[n].border,"\n\t\t\t\t\t\t\t\t\t\t"))},0===R.length&&_.length>0&&Object(P.e)(t[a]))})))}))))),t.sortable&&i.a.createElement(h.a,{className:"flex-shrink-0 border-t-1",component:"div",count:W.length,rowsPerPage:k,page:v,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(t,e){w(e)},onChangeRowsPerPage:function(t){N(t.target.value)}}))}))},1298:function(t,e,a){"use strict";var n=a(0),r=a(81);e.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1299:function(t,e,a){"use strict";var n=a(0),r=a(81);e.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1367:function(t,e,a){"use strict";a.d(e,"a",(function(){return g}));var n=a(18),r=a(0),c=(a(5),a(1204)),i=a(4),l=(a(1),a(7),a(1236)),o=a(1318),s=a(1332),u=(a(1325),a(72),a(1326)),d=(a(49),a(41),a(66),a(48),a(67),Object(l.a)({toolbar:{flexDirection:"column",alignItems:"flex-start"},toolbarLandscape:{padding:16},dateLandscape:{marginRight:16}},{name:"MuiPickersDatePickerRoot"})),b=function(t){var e=t.date,a=t.views,n=t.setOpenView,l=t.isLandscape,u=t.openView,b=Object(c.b)(),p=d(),m=Object(r.useMemo)((function(){return Object(s.d)(a)}),[a]),f=Object(r.useMemo)((function(){return Object(s.b)(a)}),[a]);return Object(r.createElement)(o.b,{isLandscape:l,className:Object(i.default)(!m&&p.toolbar,l&&p.toolbarLandscape)},Object(r.createElement)(o.c,{variant:m?"h3":"subtitle1",onClick:function(){return n("year")},selected:"year"===u,label:b.getYearText(e)}),!m&&!f&&Object(r.createElement)(o.c,{variant:"h4",selected:"date"===u,onClick:function(){return n("date")},align:l?"left":"center",label:b.getDatePickerHeaderText(e),className:Object(i.default)(l&&p.dateLandscape)}),f&&Object(r.createElement)(o.c,{variant:"h4",onClick:function(){return n("month")},selected:"month"===u,label:b.getMonthText(e)}))};function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var m=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(a,!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},u.c,{openTo:"date",views:["year","date"]});function f(t){var e=Object(c.b)();return{getDefaultFormat:function(){return Object(s.c)(t.views,e)}}}var O=Object(o.g)({useOptions:f,Input:o.d,useState:o.i,DefaultToolbarComponent:b}),g=Object(o.g)({useOptions:f,Input:o.a,useState:o.e,DefaultToolbarComponent:b});O.defaultProps=m,g.defaultProps=m},2615:function(t,e,a){"use strict";a.r(e);var n=a(33),r=a(6),c=a(13),i=a(0),l=a.n(i),o=a(8),s=a(113),u=a.n(s),d=a(93),b=a(161),p=(a(181),a(1284)),m=a(1246),f=a(1324),O=a(34),g=a(215),h=a(1238),y=a(648),j=a(159),v=a(431),w=a(247),E=a(1204),x=a(1367),P=a(9),A=a(85),k=a(14),N=a.n(k),S=a(30),T=a(25),I=a(46),C=a.n(I),M=Object(T.b)("activityApp/widgets/getWidgets",Object(S.a)(N.a.mark((function t(){var e,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("/api/activity-app/widgets");case 2:return e=t.sent,t.next=5,e.data;case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))),_=Object(T.c)({}),D=_.getSelectors((function(t){return t.activityApp.widgets})),R=D.selectEntities,W=(D.selectById,Object(T.d)({name:"activityApp/widgets",initialState:_.getInitialState(),reducers:{},extraReducers:Object(n.a)({},M.fulfilled,_.setAll)}).reducer),L=a(17),B=localStorage.getItem("@BELONGTO"),U=Object(T.b)("activityApp/entries/getEntries",(function(t){return new Promise((function(e,a){var n=L.b.ref("Sales/".concat(t,"/").concat(B,"/")),r=[];n.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(t){r.push(a[t])})),e(a?[a]:[])}))}))})),K=Object(T.c)({}),z=K.getSelectors((function(t){return t.activityApp.entries})),H=z.selectAll,Q=(z.selectById,Object(T.d)({name:"activityApp/entries",initialState:K.getInitialState({searchText:""}),reducers:{setSearchText:{reducer:function(t,e){t.searchText=e.payload},prepare:function(t){return{payload:t.target.value||""}}}},extraReducers:Object(n.a)({},U.fulfilled,K.setAll)})),F=Q.actions.setSearchText,J=Q.reducer,V=Object(T.b)("activityApp/users/getUsers",(function(){return new Promise((function(t,e){var a=L.b.ref("users/"),n=L.b.ref("agency/"),r=L.b.ref("admin/"),c=[];a.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(t){c.push(a[t])})),n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(t){c.push(a[t])})),r.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(t){c.push(a[t])})),t(c)}))}))}))}))})),Y=Object(T.c)({}),G=Y.getSelectors((function(t){return t.activityApp.users})),q=G.selectAll,X=(G.selectById,Object(T.d)({name:"activityApp/users",initialState:Y.getInitialState({production:""}),reducers:{setUser:{reducer:function(t,e){t.production=e.payload},prepare:function(t){return{payload:t.target.value||""}}}},extraReducers:Object(n.a)({},V.fulfilled,Y.setAll)})),Z=(X.actions.setUser,X.reducer),$=Object(A.c)({users:Z,entries:J,widgets:W}),tt=a(1293),et=(a(1310),a(1311),a(1312)),at=a(1313),nt=a(1309),rt=a(1291),ct=localStorage.getItem("@UID");e.default=Object(w.a)("activityApp",$)((function(t){var e=Object(o.c)(),a=Object(o.d)((function(t){return t.activityApp.entries.searchText})),s=Object(o.d)(O.e),w=Object(o.d)(R),A=Object(o.d)(q),k=Object(o.d)(H),N=Object(i.useState)(!0),S=Object(c.a)(N,2),T=S[0],I=S[1],C=Object(i.useState)({}),_=Object(c.a)(C,2),D=_[0],W=_[1],L=Object(i.useState)([]),B=Object(c.a)(L,2),K=B[0],z=B[1],Q=Object(i.useState)(u()()),J=Object(c.a)(Q,2),Y=J[0],G=J[1],X=Object(i.useState)("Total"),Z=Object(c.a)(X,2),$=Z[0],it=Z[1],lt=Object(i.useState)(u()().format("MMMM")),ot=Object(c.a)(lt,2),st=ot[0],ut=ot[1],dt=Object(i.useState)("PRODUCER APPS REPORT"),bt=Object(c.a)(dt,2),pt=bt[0];return bt[1],Object(i.useEffect)((function(){e(V()),e(U(u()(Y).format("yyyy"))),e(M()).then((function(){return I(!1)}))}),[e,Y]),Object(i.useEffect)((function(){var t=[];if(k.length>0&&A.length>0){var e={Entries:"Auto",FireEntries:"Fire",LifeEntries:"Life",HealthEntries:"Health",BankEntries:"Bank",OtherEntries:"Other"},n=0;Object.keys(k[0]).map((function(a){A.map((function(r){r.belongTo===ct&&k[0][a].hasOwnProperty(r.id)&&Object.keys(k[0][a][r.id]).map((function(c,i){var l=k[0][a][r.id][c],o=""===l.datePolicyIsIssued?"":new Date(l.datePolicyIsIssued).getMonth()+1,s=new Date(l.datePolicyIsWritten).getMonth()+1;t[n]={},t[n]["Client Name"]=l.policyHolderName,t[n]["Policy(Tracking) Number or Description"]=l.policyInformation,t[n]["Date Product Is Written"]=Object(rt.c)(new Date(l.datePolicyIsWritten)),t[n]["Date Product Is Issued"]=Object(rt.c)(new Date(l.datePolicyIsIssued)),t[n]["Product Line"]=e[a],t[n]["Product Type"]=l.typeOfProduct,t[n]["Source of Business"]=l.sourceOfBusiness,t[n]["Product Dollars"]=l.policyPremium,t[n].Bonus=l.dollarBonus,t[n]["Month Written"]=s,t[n]["Month Issued"]=o,n++}))}))}))}console.log("--------------------temp=",t),"Quarter 1 Totals"===st?t=P.a.filter(t,(function(t){return 1===t["Month Written"]||2===t["Month Written"]||3===t["Month Written"]})):"Quarter 2 Totals"===st?t=P.a.filter(t,(function(t){return 4===t["Month Written"]||5===t["Month Written"]||6===t["Month Written"]})):"Quarter 3 Totals"===st?t=P.a.filter(t,(function(t){return 7===t["Month Written"]||8===t["Month Written"]||9===t["Month Written"]})):"Quarter 4 Totals"===st?t=P.a.filter(t,(function(t){return 10===t["Month Written"]||11===t["Month Written"]||12===t["Month Written"]})):nt.i.includes(st)&&(t=P.a.filter(t,(function(t){return t["Month Written"]-1===nt.i.indexOf(st)}))),"Total"!==$&&(t=P.a.filter(t,(function(t){return t["Product Line"].toLowerCase().includes($.toLowerCase())}))),0!==a.length?z(P.a.filter(t,(function(t){return t["Client Name"].toLowerCase().includes(a.toLowerCase())}))):z(t)}),[k,A,a,st,$]),Object(i.useEffect)((function(){if(!P.a.isEmpty(w)&&!P.a.isEmpty(K)&&w.Activity_AppRegister_Table){var t=[];K.map((function(e,a){t.push({id:a+1,value:a+1,color:""}),Object.keys(e).map((function(t){w=Object(r.a)(Object(r.a)({},w),{},{Activity_AppRegister_Table:Object(r.a)(Object(r.a)({},w.Activity_AppRegister_Table),{},{table:Object(r.a)(Object(r.a)({},w.Activity_AppRegister_Table.table),{},{tableContent:Object(r.a)(Object(r.a)({},w.Activity_AppRegister_Table.table.tableContent),{},Object(n.a)({},a+1,Object(r.a)(Object(r.a)({},w.Activity_AppRegister_Table.table.tableContent[a+1]),{},Object(n.a)({},t,e[t]))))})})})}))})),w=Object(r.a)(Object(r.a)({},w),{},{Activity_AppRegister_Table:Object(r.a)(Object(r.a)({},w.Activity_AppRegister_Table),{},{table:Object(r.a)(Object(r.a)({},w.Activity_AppRegister_Table.table),{},{rows:t})})})}console.log("-----Widgets=",w),W({widgets:w})}),[w,K]),T?l.a.createElement(v.a,null):0===D.length?l.a.createElement(d.a,{delay:100},l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},l.a.createElement(j.a,{color:"textSecondary",variant:"h5"},"There are no data!"))):l.a.createElement(p.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:l.a.createElement(at.a,{title:pt},l.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},l.a.createElement(d.a,{animation:"transition.slideUpIn",delay:300},l.a.createElement(E.a,{utils:f.a},l.a.createElement(x.a,{disableToolbar:!0,variant:"inline",format:"yyyy",margin:"normal",id:"date-picker-inline",label:"Year",value:Y,onChange:function(t){G(t)},KeyboardButtonProps:{"aria-label":"change date"},views:["year"]})))),l.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},l.a.createElement(d.a,{animation:"transition.slideUpIn",delay:300},l.a.createElement(et.a,{value:st,onChange:function(t){ut(t.target.value)},label:"Month",data:nt.a.period.data}))),l.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},l.a.createElement(d.a,{animation:"transition.slideUpIn",delay:300},l.a.createElement(et.a,{value:$,onChange:function(t){it(t.target.value)},label:"Product Line",data:nt.a.product.data}))),l.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},l.a.createElement(m.a,{theme:s},l.a.createElement(d.a,{animation:"transition.slideDownIn",delay:300},l.a.createElement(g.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8 shadow"},l.a.createElement(h.a,{color:"action"},"search"),l.a.createElement(y.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(t){return e(F(t))}})))))),content:l.a.createElement("div",{className:"w-full p-12"},l.a.createElement(b.a,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},l.a.createElement("div",{className:"widget flex p-12"},l.a.createElement(tt.a,{data:D.widgets.Activity_AppRegister_Table,sortable:!0})))),innerScroll:!0})}))}}]);