(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[154],{1284:function(e,a,t){"use strict";t.d(a,"a",(function(){return x}));var n=t(33),r=t(40),l=t(1236),o=t(4),c=t(0),i=t.n(c),s=t(52),u=t(1246),d=t(34),m=t(8);var p=function(e){var a=Object(s.a)(),t=Object(m.d)(Object(d.c)(a.palette.primary.main));return i.a.createElement("div",{className:e.classes.header},e.header&&i.a.createElement(u.a,{theme:t},e.header))},b=t(13),f=t(111),g=t(1269),v=t(1273);var h=function(e){var a=Object(s.a)(),t=Object(m.d)(Object(d.c)(a.palette.primary.main)),n=e.classes;return i.a.createElement(i.a.Fragment,null,e.header&&i.a.createElement(u.a,{theme:t},i.a.createElement("div",{className:Object(o.default)(n.sidebarHeader,e.variant)},e.header)),e.content&&i.a.createElement(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var O=i.a.forwardRef((function(e,a){var t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],l=n[1],s=e.classes;Object(c.useImperativeHandle)(a,(function(){return{toggleSidebar:u}}));var u=function(){l(!r)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{lgUp:"permanent"===e.variant},i.a.createElement(v.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return u()},disableSwipeToOpen:!0,classes:{root:Object(o.default)(s.sidebarWrapper,e.variant),paper:Object(o.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},i.a.createElement(h,e))),"permanent"===e.variant&&i.a.createElement(g.a,{mdDown:!0},i.a.createElement(f.a,{variant:"permanent",className:Object(o.default)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(o.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},i.a.createElement(h,e))))})),E=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),j=i.a.forwardRef((function(e,a){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),l=Object(c.useRef)(null),s=E(e),u=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return i.a.useImperativeHandle(a,(function(){return{rootRef:l,toggleLeftSidebar:function(){t.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),i.a.createElement("div",{className:Object(o.default)(s.root,e.innerScroll&&s.innerScroll),ref:l},i.a.createElement("div",{className:s.topBg}),i.a.createElement("div",{className:"flex container w-full"},d&&i.a.createElement(O,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:t,rootRef:l}),i.a.createElement("div",{className:Object(o.default)(s.contentWrapper,d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",u&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},i.a.createElement(p,{header:e.header,classes:s}),i.a.createElement("div",{className:Object(o.default)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&i.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&i.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),u&&i.a.createElement(O,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:l})))}));j.defaultProps={};var x=i.a.memo(j)},1300:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var n=t(33),r=t(13),l=t(0),o=t.n(l),c=t(1236),i=t(1190),s=t(1240),u=t(1184),d=t(1193),m=Object(c.a)((function(e){return{formControl:{minWidth:120,width:200},selectEmpty:{marginTop:e.spacing(2)}}}));function p(e){var a=m(),t=o.a.useState(""),l=Object(r.a)(t,2),c=(l[0],l[1],e.id,e.data),p=(e.variant,e.value),b=e.handleChangeValue,f=e.validation,g=e.disabled,v=e.willvalidation,h=e.validate,O=e.size;return o.a.createElement(u.a,{variant:"outlined",className:a.formControl,size:"small",error:!!h},o.a.createElement(i.a,{id:"demo-simple-select-outlined-label"},e.label),o.a.createElement(d.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:function(e){var a,t;v?e.target.value?b((a={},Object(n.a)(a,f,e.target.value),Object(n.a)(a,"".concat(f,"Validation"),!1),a)):b((t={},Object(n.a)(t,f,e.target.value),Object(n.a)(t,"".concat(f,"Validation"),!0),t)):b(Object(n.a)({},f,e.target.value))},label:e.label,InputProps:O&&{style:{width:O}},disabled:g||!1},c.length>0&&c.map((function(e,a){return o.a.createElement(s.a,{value:e.value,key:a},e.item)}))))}},2604:function(e,a,t){"use strict";t.r(a);var n=t(1284),r=t(247),l=t(0),o=t.n(l),c=t(85),i=t(33),s=t(14),u=t.n(s),d=t(30),m=t(6),p=t(25),b=t(46),f=t.n(b),g=t(17),v=t(234),h=Object(p.b)("users/users/getUsers",(function(){return new Promise((function(e,a){var t=localStorage.getItem("@BELONGTO"),n=g.b.ref("users/"),r=g.b.ref("agency/"),l=g.b.ref("Invitation/".concat(t,"/")),o=g.b.ref("BonusPlan/".concat(t,"/")),c=localStorage.getItem("@UID"),i=g.b.ref("admin/".concat(c,"/")),s=[];o.on("value",(function(a){var o=a.val();n.on("value",(function(a){var n=a.val();n&&Object.keys(n).map((function(e){t===n[e].belongTo&&s.push(Object(m.a)(Object(m.a)({},n[e]),{},{bonusPlan:o[e].name,teamBonus:o[e].teamBonus}))})),r.on("value",(function(a){var n=a.val();n&&Object.keys(n).map((function(e){t===n[e].belongTo&&s.push(Object(m.a)(Object(m.a)({},n[e]),{},{bonusPlan:o[e].name,teamBonus:o[e].teamBonus}))})),l.on("value",(function(a){var t=a.val();t&&Object.keys(t).map((function(e){s.push(t[e])})),i.on("value",(function(a){var t=a.val();t&&s.push(t),e(s)}))}))}))}))}))}))})),O=Object(p.b)("users/users/saveUser",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,r=localStorage.getItem("@BELONGTO"),console.log(a),console.log({name:a.template,teamBonus:a.teamBonus}),console.log("BonusPlan/".concat(r,"/").concat(a.uid,"/")),g.b.ref("BonusPlan/".concat(r,"/").concat(a.uid,"/")).set({name:a.template,teamBonus:a.teamBonus}),n(h()),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),E=(Object(p.b)("users/users/removeUser",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,e.next=3,f.a.post("/api/users/remove-users",{productIds:a});case 3:return r=e.sent,e.next=6,r.data;case 6:return l=e.sent,localStorage.getItem("@UID"),a.map((function(e){g.b.ref("Users/").remove()})),n(h()),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),Object(p.b)("users/users/deleteUser",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r,l,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,localStorage.getItem("@UID"),r={uid:a},e.next=5,f.a.post(v.f,r);case 5:return l=e.sent,o=g.b.ref("agency/".concat(a)),c=g.b.ref("users/".concat(a)),o.remove(),c.remove(),console.log(l,a),n(h()),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}())),j=Object(p.b)("users/user/addUser",function(){var e=Object(d.a)(u.a.mark((function e(a,t){var n,r,l,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.getState,r="agency"===a.role?{email:a.email,subject:"Sent Invitation",emailBody:"<div><p>Please touch this link to register to Back Office Web App as Agency <p> <a href='"+v.a+"/register/"+a.belongTo+"/pdElqKJexpOGk3s31VWMVTbQAgvmBRAyYLtt3KTJhEhRQ8YfMZIa6TU29SURp4NVDvttUuL6t0qjpwMSu2fp4h2LgpTMupdEoP8bGxGeOkMJ3Yg3X51GWHpxvWkdjiMw5PyvWqJQXsaXfeysGSA05l'>"+v.a+"/register/"+a.belongTo+"/pdElqKJexpOGk3s31VWMVTbQAgvmBRAyYLtt3KTJhEhRQ8YfMZIa6TU29SURp4NVDvttUuL6t0qjpwMSu2fp4h2LgpTMupdEoP8bGxGeOkMJ3Yg3X51GWHpxvWkdjiMw5PyvWqJQXsaXfeysGSA05l/"+a.email+"</a></div>"}:{email:a.email,subject:"Sent Invitation",emailBody:"<div><p>Please touch this link to register to Back Office Web App as Producer <p> <a href='"+v.b+"/register/"+a.belongTo+"'>"+v.b+"/register/"+a.belongTo+"/"+a.email+"</a></div>"},e.next=4,f.a.post(v.c,r);case 4:return l=e.sent,console.log("<div><p>Please touch this link to register to Back Office Web App as Agency <p> <a href='"+v.a+"/register/"+a.belongTo+"/pdElqKJexpOGk3s31VWMVTbQAgvmBRAyYLtt3KTJhEhRQ8YfMZIa6TU29SURp4NVDvttUuL6t0qjpwMSu2fp4h2LgpTMupdEoP8bGxGeOkMJ3Yg3X51GWHpxvWkdjiMw5PyvWqJQXsaXfeysGSA05l'/></div>"),e.next=8,l.data;case 8:return o=e.sent,c=localStorage.getItem("@BELONGTO"),g.b.ref("Invitation/".concat(c,"/").concat(a.email.replace(".","").replace(".","").replace(".",""),"/")).set({email:a.email,data:{displayName:""},id:a.email.replace(".","").replace(".","").replace(".","")}),n(h()),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()),x=Object(p.c)({}),y=x.getSelectors((function(e){return e.users.users})),w=y.selectAll,S=(y.selectById,Object(p.d)({name:"users/users",initialState:x.getInitialState({searchText:"",addUserDialog:{type:"new",props:{open:!1},data:null},userProfileDialog:{type:"edit",props:{open:!1},data:null}}),reducers:{setProductsSearchText:{reducer:function(e,a){e.searchText=a.payload},prepare:function(e){return{payload:e.target.value||""}}},openUserDialog:function(e,a){e.addUserDialog={type:"new",props:{open:!0},data:a.payload}},closeUserDialog:function(e,a){e.addUserDialog={type:"new",props:{open:!1},data:null}},openUserProfileDialog:function(e,a){e.userProfileDialog={type:"edit",props:{open:!0},data:a.payload}},closeUserProfileDialog:function(e,a){e.userProfileDialog={type:"edit",props:{open:!1},data:null}}},extraReducers:Object(i.a)({},h.fulfilled,x.setAll)})),k=S.actions,N=k.setProductsSearchText,P=k.openUserDialog,C=k.closeUserDialog,I=k.openUserProfileDialog,T=k.closeUserProfileDialog,B=S.reducer,U=Object(p.b)("users/templates/getTemplateData",(function(e,a){a.getState;return new Promise((function(e,a){var t=localStorage.getItem("@BELONGTO"),n=localStorage.getItem("@UID"),r=g.b.ref("BonusPlanTemplate/".concat(t,"/")),l=(g.b.ref("BonusPlan/".concat(t,"/")),[]);r.once("value",(function(a){var t=a.val();console.log("users/".concat(n,"/")),t?(l.push(t),e(l)):e(l)}))}))})),D=Object(p.d)({name:"users/templates",initialState:{},reducers:{},extraReducers:Object(i.a)({},U.fulfilled,(function(e,a){return a.payload}))}).reducer,R=Object(c.c)({users:B,templates:D}),W=t(13),V=t(93),A=t(1244),G=t(1238),M=t(648),H=t(215),L=t(1246),q=t(159),F=t(8),J=t(19),Y=t(34),z=t(42);var Q=function(e){var a=Object(F.c)(),t=Object(l.useState)(5),n=Object(W.a)(t,2),r=n[0],c=n[1],i=Object(F.d)((function(e){return e.users.users.searchText})),s=Object(F.d)(Y.e),u=Object(F.d)(w);return Object(l.useEffect)((function(){u&&u.map((function(e){Object.keys(e).includes("subscriptionInfo")&&(console.log(e.subscriptionInfo),Object.keys(e.subscriptionInfo).includes("secondResponse")&&c(r+parseInt(e.subscriptionInfo.secondResponse.quantity)))}))}),[u]),o.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},o.a.createElement("div",{className:"flex items-center"},o.a.createElement(V.a,{animation:"transition.expandIn",delay:300},o.a.createElement(G.a,{className:"text-32"},"people")),o.a.createElement(V.a,{animation:"transition.slideLeftIn",delay:300},o.a.createElement(q.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Users"))),o.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},o.a.createElement(L.a,{theme:s},o.a.createElement(V.a,{animation:"transition.slideDownIn",delay:300},o.a.createElement(H.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8 shadow"},o.a.createElement(G.a,{color:"action"},"search"),o.a.createElement(M.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:i,inputProps:{"aria-label":"Search"},onChange:function(e){return a(N(e))}}))))),o.a.createElement(V.a,{animation:"transition.slideRightIn",delay:300},o.a.createElement(A.a,{component:J.a,className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:function(){r>=u.length?a(P()):a(Object(z.c)({message:"You can't add member anymore. Please upgrade the subscription plan."}))}},o.a.createElement("span",{className:"hidden sm:flex"},"Add"))))},X=t(40),K=t(9),Z=t(1268),$=t(1334),_=t(1337),ee=t(1331),ae=t(1521),te=t(1336),ne=t(53),re=t(431),le=(t(437),t(1236)),oe=t(1335),ce=(t(4),[{id:"name",align:"center",disablePadding:!1,label:"User Name",sort:!0},{id:"includeTeamBonus",align:"center",disablePadding:!1,label:"Include Team Bonuses?",sort:!0},{id:"bonusPlanForProducer",align:"center",disablePadding:!1,label:"Bonus Plan For a Producer",sort:!0},{id:"producerFile",align:"center",disablePadding:!1,label:"Producer File",sort:!0},{id:"email",align:"center",disablePadding:!1,label:"Email",sort:!0},{id:"active",align:"center",disablePadding:!1,label:"Active",sort:!0},{id:"action",align:"center",disablePadding:!1,label:"Action",sort:!0}]),ie=Object(le.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var se=function(e){ie(e);var a=e.selectedProductIds.length,t=Object(l.useState)(null),n=Object(W.a)(t,2);return n[0],n[1],Object(F.c)(),o.a.createElement(oe.a,null,o.a.createElement(te.a,{className:"h-64"},o.a.createElement(ee.a,{padding:"none",className:"w-40 md:w-64 text-center z-99"},o.a.createElement(Z.a,{indeterminate:a>0&&a<e.rowCount,checked:0!==e.rowCount&&a===e.rowCount,onChange:e.onSelectAllClick})),ce.map((function(a){return o.a.createElement(ee.a,{className:"p-1 md:p-1 text-xs",key:a.id,align:a.align,padding:a.disablePadding?"none":"default",sortDirection:e.order.id===a.id&&e.order.direction},a.label)}),this)))},ue=t(1233),de=t(1265),me=t(1263),pe=t(1264),be=t(1262),fe=t(1300),ge=t(1324),ve=t(1204),he=(t(295),Object(le.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),[{item:"Yes",value:!0},{item:"No",value:!1}]),Oe="";var Ee=Object(ne.k)((function(e){var a=Object(F.c)(),t=Object(F.d)(w),n=Object(F.d)((function(e){return e.users.users.searchText})),r=Object(F.d)((function(e){return e.users.templates})),c=(localStorage.getItem("@BELONGTO"),Object(F.d)((function(e){return e.auth.user.role[0]}))),i=Object(l.useState)(!0),s=Object(W.a)(i,2),u=s[0],d=s[1],p=Object(l.useState)([]),b=Object(W.a)(p,2),f=b[0],g=b[1],v=Object(l.useState)(t),j=Object(W.a)(v,2),x=j[0],y=j[1],S=Object(l.useState)(0),k=Object(W.a)(S,2),N=k[0],P=k[1],C=Object(l.useState)(10),T=Object(W.a)(C,2),B=T[0],D=T[1],R=Object(l.useState)({direction:"asc",id:null}),V=Object(W.a)(R,2),G=V[0],M=V[1],H=o.a.useState({includeTeamBonus:"",templates:[]}),L=Object(W.a)(H,2),q=L[0],J=L[1],Y=o.a.useState(!1),z=Object(W.a)(Y,2),Q=z[0],ne=z[1],le=function(){ne(!1)};function oe(e,a){var t=a,n="desc";G.id===a&&"desc"===G.direction&&(n="asc"),M({direction:n,id:t})}function ce(e){e.target.checked?g(x.map((function(e){return e.id}))):g([])}function ie(){g([])}function Ee(e,t,n){a(O(Object(m.a)(Object(m.a)({},e),{},{uid:t,teamBonus:n})))}return Object(l.useEffect)((function(){a(h()).then((function(){return d(!1)})),a(U())}),[a]),Object(l.useEffect)((function(){var e=[];r.length>0&&(console.log(r),Object.keys(r[0]).map((function(a){e.push({item:a,value:a})})),J(Object(m.a)(Object(m.a)({},q),{},{templates:e})))}),[r]),Object(l.useEffect)((function(){0!==n.length?(y(K.a.filter(t,(function(e){return e.data.displayName.toLowerCase().includes(n.toLowerCase())}))),P(0)):y(t)}),[t,n]),u?o.a.createElement(re.a,null):0===x.length?o.a.createElement("div",{className:"w-full flex flex-col"},o.a.createElement(ve.a,{utils:ge.a},o.a.createElement(X.a,{className:"flex-grow overflow-x-auto"},o.a.createElement($.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle"},o.a.createElement(se,{selectedProductIds:f,order:G,onSelectAllClick:ce,onRequestSort:oe,rowCount:x.length,onMenuItemClick:ie}))))):o.a.createElement("div",{className:"w-full flex flex-col"},o.a.createElement(ve.a,{utils:ge.a},o.a.createElement(X.a,{className:"flex-grow overflow-x-auto"},o.a.createElement($.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",size:"small"},o.a.createElement(se,{selectedProductIds:f,order:G,onSelectAllClick:ce,onRequestSort:oe,rowCount:x.length,onMenuItemClick:ie}),o.a.createElement(_.a,null,K.a.orderBy(x,[G.id],[G.direction]).slice(N*B,N*B+B).map((function(t,n){if(!("agency"===c&&t.role&&"agency"===t.role[0]||"admin"===t.role[0])){var r=-1!==f.indexOf(t.id);return o.a.createElement(te.a,{className:"h-48 cursor-pointer",hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,key:n,selected:r},console.log(t),o.a.createElement(ee.a,{className:"w-40 md:w-64 text-center",padding:"none"},o.a.createElement(Z.a,{checked:r,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,a){var t=f.indexOf(a),n=[];-1===t?n=n.concat(f,a):0===t?n=n.concat(f.slice(1)):t===f.length-1?n=n.concat(f.slice(0,-1)):t>0&&(n=n.concat(f.slice(0,t),f.slice(t+1))),g(n)}(0,t.id)}})),o.a.createElement(ee.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center",onClick:function(){return a(I(t.data))}},t.active&&t.data.displayName),o.a.createElement(ee.a,{className:"p-2 md:p-2 truncate",component:"th",scope:"row",align:"center"},t.active&&o.a.createElement(fe.a,{data:he,willvalidation:!1,value:t.teamBonus,validation:"includeTeamBonus",handleChangeValue:function(e){return Ee({template:t.bonusPlan},t.uid,e.includeTeamBonus)}})),o.a.createElement(ee.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},t.active&&o.a.createElement(fe.a,{id:"outlined-basic",label:"Select Template",data:q.templates,variant:"outlined",value:t.bonusPlan,validation:"template",handleChangeValue:function(e){return Ee(e,t.uid,t.teamBonus)}})),o.a.createElement(ee.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},t.active&&o.a.createElement(A.a,{className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:function(){return t.data&&(a=t.uid,void e.history.push("/apps/producer-detail/".concat(a)));var a}},o.a.createElement("span",{className:"hidden sm:flex"},"Producer File"))),o.a.createElement(ee.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},t.active?t.data.email:t.email),o.a.createElement(ee.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},t.active?"Active":t.belongTo?"Revoked":"Invite sent"),o.a.createElement(ee.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},t.active&&o.a.createElement(A.a,{className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:function(){return e=t.uid,ne(!0),void(Oe=e);var e}},o.a.createElement("span",{className:"hidden sm:flex"},"Revoke"))))}}))))),o.a.createElement(ae.a,{className:"flex-shrink-0 border-t-1",component:"div",count:x.length,rowsPerPage:B,page:N,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,a){P(a)},onChangeRowsPerPage:function(e){D(e.target.value)}}),o.a.createElement(ue.a,{open:Q,onClose:le,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(be.a,{id:"alert-dialog-title"},"Are you really revoke this user?"),o.a.createElement(me.a,null,o.a.createElement(pe.a,{id:"alert-dialog-description"},"You will lost this users data.")),o.a.createElement(de.a,null,o.a.createElement(A.a,{onClick:le,color:"primary"},"No"),o.a.createElement(A.a,{onClick:function(){ne(!1),console.log(Oe),a(E(Oe))},color:"primary",autoFocus:!0},"Yes")))))})),je=t(144),xe=t(253),ye=t(1247),we=t(1258),Se=t(1259),ke=t(1190),Ne=t(1240),Pe=t(1184),Ce=t(1193),Ie=Object(le.a)((function(e){return{formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}}));function Te(e){var a=Ie(),t=o.a.useState(""),n=Object(W.a)(t,2),r=(n[0],n[1],e.id,e.data),l=(e.variant,e.value),c=e.handleChangeValue,s=e.validation,u=(e.type,e.willvalidation),d=e.validate,m=e.label;return o.a.createElement(Pe.a,{variant:"outlined",className:a.formControl,error:!!d},o.a.createElement(ke.a,{id:"demo-simple-select-outlined-label"},m),o.a.createElement(Ce.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:l,onChange:function(e){var a,t;u?e.target.value?c((a={},Object(i.a)(a,s,e.target.value),Object(i.a)(a,"".concat(s,"Validation"),!1),a)):c((t={},Object(i.a)(t,s,e.target.value),Object(i.a)(t,"".concat(s,"Validation"),!0),t)):c(Object(i.a)({},s,e.target.value))},label:"Age"},r.map((function(e,a){return o.a.createElement(Ne.a,{value:e.value,key:a},e.item)}))))}var Be=t(1177),Ue={id:"",email:"",emailValidation:!1,role:"",roleValidation:!1,belongTo:localStorage.getItem("@BELONGTO")},De=[{item:"Producer",value:"producer"}],Re=[{item:"Agency",value:"agency"},{item:"Producer",value:"producer"}];var We=function(e){var a=Object(F.c)(),t=Object(F.d)((function(e){return e.users.users.addUserDialog})),n=Object(F.d)((function(e){return e.auth.user.role[0]})),r=Object(l.useState)(Re),c=Object(W.a)(r,2),i=c[0],s=c[1];Object(l.useEffect)((function(){"agency"===n&&s(De)}),[n]);var u=Object(je.c)(Ue),d=u.form,p=u.handleChange,b=u.setForm,f=Object(l.useCallback)((function(){"edit"===t.type&&t.data&&b(Object(m.a)({},t.data)),"new"===t.type&&b(Object(m.a)(Object(m.a)({},Ue),{},{planType:t.data,id:xe.a.generateGUID()}))}),[t.data,t.type,b]),g=o.a.useState(!0),v=Object(W.a)(g,2);function h(){return t.type,a(C())}function O(){return d.email.length>0&&d.role.length>0}function E(e){e.preventDefault(),"new"===t.type?a(j(Object(m.a)({},d))).then(a(Object(z.c)({message:"Invitation sent to email. Please check the email!"}))):a(j(Object(m.a)({},d))),h()}return v[0],v[1],Object(l.useEffect)((function(){t.props.open&&f()}),[t.props.open,f]),o.a.createElement(ue.a,Object.assign({classes:{paper:"m-24 rounded-8"}},t.props,{onClose:h,fullWidth:!0,maxWidth:"xs"}),o.a.createElement(ye.a,{position:"static",className:"shadow-md"},o.a.createElement(Se.a,{className:"flex w-full"},o.a.createElement(q.a,{variant:"subtitle1",color:"inherit"},"new"===t.type?"Send Invitation":"Edit Plan"))),o.a.createElement("form",{noValidate:!0,onSubmit:E,className:"flex flex-col md:overflow-hidden"},o.a.createElement(me.a,{classes:{root:"p-24"}},o.a.createElement("div",{className:"flex"},o.a.createElement(we.a,{className:"mb-24",label:"Email",autoFocus:!0,id:"email",name:"email",value:d.email,onChange:p,variant:"outlined",required:!0,fullWidth:!0})),o.a.createElement("div",{className:"flex"},o.a.createElement(Te,{id:"outlined-basic",label:"Role",data:i,variant:"outlined",value:d.role,validation:"role",handleChangeValue:function(e){b(Object(m.a)(Object(m.a)({},d),e))},willvalidation:!1,size:100}))),"new"===t.type?o.a.createElement(de.a,{className:"justify-between p-8"},o.a.createElement("div",{className:"px-16"},o.a.createElement(A.a,{variant:"contained",color:"primary",onClick:E,type:"submit",disabled:!O()},"Send Invitation"))):o.a.createElement(de.a,{className:"justify-between p-8"},o.a.createElement("div",{className:"px-16"},o.a.createElement(A.a,{variant:"contained",color:"primary",type:"submit",onClick:E,disabled:!O()},"Save")),o.a.createElement(Be.a,{onClick:function(){h()}},o.a.createElement(G.a,null,"delete")))))},Ve={id:"",name:"",email:"",emailValidation:!1,role:"",roleValidation:!1};var Ae=function(e){var a=Object(F.c)(),t=Object(F.d)((function(e){return e.users.users.userProfileDialog})),n=Object(je.c)(Ve),r=n.form,c=(n.handleChange,n.setForm),i=Object(l.useCallback)((function(){t.data&&c(Object(m.a)({},t.data))}),[t.data,t.type,c]);function s(){a(T())}return Object(l.useEffect)((function(){t.props.open&&i()}),[t.props.open,i]),o.a.createElement(ue.a,Object.assign({classes:{paper:"m-24 rounded-8"}},t.props,{onClose:s,fullWidth:!0,maxWidth:"xs"}),o.a.createElement(ye.a,{position:"static",className:"shadow-md"},o.a.createElement(Se.a,{className:"flex w-full"},o.a.createElement(q.a,{variant:"subtitle1",color:"inherit"},"User Profile"))),o.a.createElement("form",{noValidate:!0,className:"flex flex-col md:overflow-hidden"},o.a.createElement(me.a,{classes:{root:"p-24"}},o.a.createElement("div",{className:"flex"},o.a.createElement(we.a,{className:"mb-24",label:"Name",autoFocus:!0,id:"name",name:"name",value:r.displayName,variant:"outlined",required:!0,fullWidth:!0,inputProps:{readOnly:Boolean(!0),disabled:Boolean(!0)}})),o.a.createElement("div",{className:"flex"},o.a.createElement(we.a,{className:"mb-24",label:"Email",autoFocus:!0,id:"email",name:"email",value:r.email,variant:"outlined",required:!0,fullWidth:!0,inputProps:{readOnly:Boolean(!0),disabled:Boolean(!0)}}))),o.a.createElement(de.a,{className:"justify-between p-8"},o.a.createElement(Be.a,{onClick:function(){s()}},o.a.createElement(G.a,null,"delete")))))};a.default=Object(r.a)("users",R)((function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(n.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:o.a.createElement(Q,null),content:o.a.createElement(Ee,null),innerScroll:!0}),o.a.createElement(We,null),o.a.createElement(Ae,null))}))}}]);