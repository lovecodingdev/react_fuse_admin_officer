(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[74],{1281:function(e,t,a){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}a.d(t,"a",(function(){return n}))},1293:function(e,t,a){"use strict";var n=a(6),l=a(13),c=a(0),s=a.n(c),r=a(8),i=a(9),o=a(4),u=a(40),b=a(1334),d=a(1337),m=a(1331),p=a(1335),f=a(1336),v=a(2624),g=a(1245),O=a(1521),y=a(1261),j=a(159),h=a(1236),_=a(649),x=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},spin:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}}}}));var w=function(e){var t=x(),a=e.id,n=e.key,l=e.type,c=e.value,r=e.onChange,i=e.size,o=e.readOnly,u=e.startAdornment,b=e.endAdornment,d=e.inputProps;return s.a.createElement(_.a,{id:a,key:n,className:(t.margin,t.spin),value:c,onChange:r,type:l,size:i,readOnly:o,startAdornment:u,endAdornment:b,inputProps:d})},A=a(1291);t.a=s.a.memo((function(e){Object(r.c)();var t=Object(c.useState)(0),a=Object(l.a)(t,2),h=a[0],_=a[1],x=Object(c.useState)(20),P=Object(l.a)(x,2),E=P[0],N=P[1],T=Object(c.useState)({direction:"asc",id:null}),S=Object(l.a)(T,2),I=S[0],k=S[1],B=e.data.table.tableContent,M=e.data.table.headers,C=e.data.table.rows,L=e.data.table.columns,R=[];return e.sortable&&C.map((function(e,t){R.push(Object(n.a)({},B[e.value]))})),s.a.createElement("div",{className:"flex flex-col min-h-full sm:border-1 sm:rounded-8 overflow-hidden w-full"},""!==e.data.title&&s.a.createElement("div",{className:"flex items-center justify-between px-16 py-16 border-b-1"},s.a.createElement(j.a,{className:"text-16"},e.data.title)),s.a.createElement(u.a,{className:"flex-growNum overflow-x-auto"},s.a.createElement(b.a,{stickyHeader:!0,className:"min-w-full",size:"small","aria-labelledby":"tableTitle"},s.a.createElement(p.a,null,s.a.createElement(f.a,null,L.map((function(e,t){switch(e.id){case"avatar":return s.a.createElement(m.a,{key:e.id,rowSpan:e.rowSpan,align:e.align,className:Object(o.default)("whitespace-wrap p-0 text-xs p-12 border-r-1")},e.title);default:return s.a.createElement(m.a,{key:e.id,colSpan:e.colSpan,rowSpan:e.rowSpan,align:"center",className:Object(o.default)("\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace-wrap p-0 text-xs p-12 \n\t\t\t\t\t\t\t\t\t\t\t\t\t".concat(t===L.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.color,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.border,"\n\t\t\t\t\t\t\t\t\t\t\t\t"))},e.title)}}))),s.a.createElement(f.a,null,M.map((function(t,a){return s.a.createElement(m.a,{key:t.id,component:"th",scope:"rowNum",align:"center",sortDirection:I.id===t.id&&I.direction,className:Object(o.default)("\n\t\t\t\t\t\t\t\t\t\t\tw-md p-0 text-xs p-4 \n\t\t\t\t\t\t\t\t\t\t\t".concat(a===M.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(t.color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(M.length>0&&M[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},e.sortable&&s.a.createElement(g.a,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300},s.a.createElement(v.a,{active:I.id===t.id,direction:I.direction,onClick:(n=t.id,function(e){var t=n,a="desc";I.id===n&&"desc"===I.direction&&(a="asc"),k({direction:a,id:t})})},t.value.substring(t.value.indexOf("@")+1))),!e.sortable&&t.value.substring(t.value.indexOf("@")+1));var n})))),s.a.createElement(d.a,null,!e.sortable&&!i.a.isEmpty(B)&&Object.keys(B).map((function(t,a){return s.a.createElement(f.a,{className:"h-32",key:a},!e.hideLeftHeader&&s.a.createElement(m.a,{key:a,component:"th",scope:"rowNum",align:"center",className:Object(o.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t\t".concat(C.length>0&&C[a].color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(C.length>0&&C[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},t),Object.keys(B[t]).map((function(n,l){return"id"!==n&&"type"!==n&&"month"!==n&&s.a.createElement(m.a,{key:"colKey_".concat(a,"_").concat(l),component:"th",scope:"rowNum",align:"center",className:Object(o.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(l===Object.keys(B[t]).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(C.length>0&&C[a].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(M.length>0&&0===L.length&&M[l+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(M.length>0&&0!==L.length&&M[l].border,"\n\t\t\t\t\t\t\t\t\t\t"))},!e.editable&&0===L.length&&M.length>0&&Object(A.e)(B[t][M[l+1].value]),!e.editable&&0!==L.length&&M.length>0&&Object(A.e)(B[t][M[l].value]),e.editable&&s.a.createElement(w,{id:"contact phone number",key:"input_".concat(a,"_").concat(l),type:"number",value:Object(A.e)(B[t][n]),onChange:function(c){return function(t,a,n,l,c,s){e.onInputChange({tableName:t,row:a,col:n,rowKey:l,colKey:c,value:s})}(e.tableName,a,l,t,n,c.target.value)},size:"small",readOnly:!1,startAdornment:s.a.createElement(y.a,{position:"start"},e.startAdornment),endAdornment:s.a.createElement(y.a,{position:"start"},e.endAdornment),inputProps:{"aria-label":"naked"}}))})))})),e.sortable&&i.a.orderBy(R,[function(e){switch(I.id){case"categories":return e.categories[0];default:return e[I.id]}}],[I.direction]).slice(h*E,h*E+E).map((function(e,t){return s.a.createElement(f.a,{className:"h-32",key:t},s.a.createElement(m.a,{key:t,component:"th",scope:"rowNum",align:"center",className:Object(o.default)("\n\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t".concat(C.length>0&&C[t].color,"\n\t\t\t\t\t\t\t\t\t\t").concat(C.length>0&&C[t].border,"\n\t\t\t\t\t\t\t\t\t"))},t+1),Object.keys(e).map((function(a,n){return"id"!==a&&"type"!==a&&"month"!==a&&s.a.createElement(m.a,{key:"colKey_".concat(t,"_").concat(n),component:"th",scope:"rowNum",align:"center",className:Object(o.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(n===Object.keys(e).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(C.length>0&&e.border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(M.length>0&&0===L.length&&M[n+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(M.length>0&&0!==L.length&&M[n].border,"\n\t\t\t\t\t\t\t\t\t\t"))},0===L.length&&M.length>0&&Object(A.e)(e[a]))})))}))))),e.sortable&&s.a.createElement(O.a,{className:"flex-shrink-0 border-t-1",component:"div",count:R.length,rowsPerPage:E,page:h,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){_(t)},onChangeRowsPerPage:function(e){N(e.target.value)}}))}))},1314:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m}));var n=a(33),l=a(14),c=a.n(l),s=a(30),r=a(25),i=a(46),o=a.n(i),u=Object(r.b)("agencyApp/widgets/getWidgets",Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/agency-app/widgets");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),b=Object(r.c)({}),d=b.getSelectors((function(e){return e.agencyApp.widgets})),m=d.selectEntities,p=(d.selectById,Object(r.d)({name:"agencyApp/widgets",initialState:b.getInitialState(),reducers:{},extraReducers:Object(n.a)({},u.fulfilled,b.setAll)}));t.a=p.reducer},1315:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return d}));var n=a(1281),l=a(33),c=a(25),s=(a(46),a(17)),r=localStorage.getItem("@BELONGTO"),i=localStorage.getItem("@UID"),o=Object(c.b)("agencyApp/bonusPlans/getBonusPlans",(function(e){return new Promise((function(e,t){s.b.ref("BonusPlan/".concat(r,"/").concat(i,"/")).on("value",(function(t){var a=t.val();a?s.b.ref("BonusPlanTemplate/".concat(r,"/").concat(a.name)).on("value",(function(t){var a=t.val();e(a?[a]:[])})):e([])}))}))})),u=Object(c.c)({}),b=u.getSelectors((function(e){return e.agencyApp.bonusPlans})),d=b.selectAll,m=(b.selectById,Object(c.d)({name:"agencyApp/bonusPlans",initialState:u.getInitialState({searchText:""}),reducers:{},extraReducers:Object(l.a)({},o.fulfilled,u.setAll)}));Object(n.a)(m.actions),t.a=m.reducer},1316:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return b}));var n=a(1281),l=a(33),c=a(25),s=(a(46),a(17)),r=localStorage.getItem("@BELONGTO"),i=Object(c.b)("agencyApp/entries/getEntries",(function(e){return new Promise((function(t,a){var n=s.b.ref("Sales/".concat(e,"/").concat(r,"/")),l=[];n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(e){l.push(a[e])})),t(a?[a]:[])}))}))})),o=Object(c.c)({}),u=o.getSelectors((function(e){return e.agencyApp.entries})),b=u.selectAll,d=(u.selectById,Object(c.d)({name:"agencyApp/entries",initialState:o.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,o.setAll)}));Object(n.a)(d.actions),t.a=d.reducer},1317:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));var n=a(33),l=a(25),c=(a(46),a(17)),s=Object(l.b)("agencyApp/users/getUsers",(function(){return new Promise((function(e,t){var a=c.b.ref("users/"),n=c.b.ref("agency/"),l=c.b.ref("admin/"),s=[];a.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){s.push(a[e])})),n.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){s.push(a[e])})),l.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){s.push(a[e])})),e(s)}))}))}))}))})),r=Object(l.c)({}),i=r.getSelectors((function(e){return e.agencyApp.users})),o=i.selectAll,u=(i.selectById,Object(l.d)({name:"agencyApp/users",initialState:r.getInitialState({production:""}),reducers:{setUser:{reducer:function(e,t){e.production=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:Object(n.a)({},s.fulfilled,r.setAll)}));u.actions.setUser;t.a=u.reducer},1322:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return b}));var n=a(1281),l=a(33),c=a(25),s=(a(46),a(17)),r=localStorage.getItem("@BELONGTO"),i=Object(c.b)("agencyApp/marketings/getMarketings",(function(){return new Promise((function(e,t){var a=s.b.ref("Marketing/".concat(r,"/")),n=[];a.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){n.push(a[e])})),e(n)}))}))})),o=Object(c.c)({}),u=o.getSelectors((function(e){return e.agencyApp.marketings})),b=u.selectAll,d=(u.selectById,Object(c.d)({name:"agencyApp/marketings",initialState:o.getInitialState({searchText:""}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,o.setAll)}));Object(n.a)(d.actions),t.a=d.reducer},1323:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return b}));var n=a(1281),l=a(33),c=a(25),s=(a(46),a(17)),r=localStorage.getItem("@BELONGTO"),i=(localStorage.getItem("@UID"),Object(c.b)("agencyApp/vision/getVision",(function(e){return new Promise((function(t,a){s.b.ref("Vision/".concat(e,"/").concat(r,"/")).on("value",(function(e){var a=e.val();if(a)return t([a]);t([])}))}))}))),o=Object(c.c)({}),u=o.getSelectors((function(e){return e.agencyApp.vision})),b=u.selectAll,d=(u.selectById,Object(c.d)({name:"agencyApp/vision",initialState:o.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,o.setAll)}));Object(n.a)(d.actions),t.a=d.reducer},1343:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return b}));var n=a(1281),l=a(33),c=a(25),s=(a(46),a(17)),r=localStorage.getItem("@BELONGTO"),i=Object(c.b)("agencyApp/lapseRate/getLapseRate",(function(e){return new Promise((function(t,a){var n=s.b.ref("LapseRateReport/".concat(r,"/").concat(e,"/")),l=[];n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(e){l.push(a[e])})),t(a?[a]:[])}))}))})),o=Object(c.c)({}),u=o.getSelectors((function(e){return e.agencyApp.lapseRate})),b=u.selectAll,d=(u.selectById,Object(c.d)({name:"agencyApp/lapseRate",initialState:o.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,o.setAll)}));Object(n.a)(d.actions),t.a=d.reducer},1344:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return b}));var n=a(1281),l=a(33),c=a(25),s=(a(46),a(17)),r=localStorage.getItem("@BELONGTO"),i=Object(c.b)("agencyApp/policyGrowth/getPolicyGrowth",(function(e){return new Promise((function(t,a){var n=s.b.ref("PolicyGrowthReport/".concat(e,"/").concat(r,"/")),l=[];n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(e){l.push(a[e])})),t(a?[a]:[])}))}))})),o=Object(c.c)({}),u=o.getSelectors((function(e){return e.agencyApp.policyGrowth})),b=u.selectAll,d=(u.selectById,Object(c.d)({name:"agencyApp/policyGrowth",initialState:o.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,o.setAll)}));Object(n.a)(d.actions),t.a=d.reducer},1351:function(e,t,a){"use strict";var n=a(85),l=a(1314),c=a(1315),s=a(1343),r=a(1344),i=a(1316),o=a(1322),u=a(1317),b=a(1323),d=Object(n.c)({widgets:l.a,users:u.a,bonusPlans:c.a,lapseRate:s.a,policyGrowth:r.a,entries:i.a,marketings:o.a,vision:b.a});t.a=d},1407:function(e,t,a){"use strict";var n=a(215),l=a(1334),c=a(1337),s=a(1331),r=a(1335),i=a(1336),o=a(159),u=a(4),b=a(0),d=a.n(b),m=a(1291);t.a=d.a.memo((function(e){return d.a.createElement(n.a,{className:"w-full rounded-8 shadow"},d.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},d.a.createElement(o.a,{className:"text-16"},e.data.title)),d.a.createElement("div",{className:"table-responsive"},d.a.createElement(l.a,{className:"w-full min-w-full"},d.a.createElement(r.a,null,d.a.createElement(i.a,null,e.data.table.columns.map((function(e){return d.a.createElement(s.a,{key:e.id,className:"whitespace-nowrap",align:"center"},e.title)})))),d.a.createElement(c.a,null,e.data.table.rows.map((function(e){return d.a.createElement(i.a,{key:e.id},e.cells.map((function(e){switch(e.id){case"left_title":return d.a.createElement(s.a,{key:e.id,component:"th",scope:"row"},d.a.createElement(o.a,{className:Object(u.default)(e.classes,"inline text-11 font-500 px-8 py-4 rounded-4")},0===e.value?"":e.value));case"total":return d.a.createElement(s.a,{key:e.id,rowSpan:5,className:"border-l-1",align:"center"},Object(m.e)(e.value));default:return d.a.createElement(s.a,{key:e.id,component:"th",scope:"row",align:"center"},d.a.createElement(o.a,{className:e.classes},Object(m.e)(e.value)))}})))}))))))}))},2424:function(e,t,a){"use strict";a.r(t);var n=a(6),l=a(13),c=a(0),s=a.n(c),r=a(8),i=a(113),o=a.n(i),u=a(93),b=a(161),d=(a(181),a(1284)),m=a(2412),p=a(2610),f=a(159),v=a(431),g=a(247),O=a(9),y=a(1351),j=(a(1293),a(1407)),h=a(1310),_=(a(1311),a(1312)),x=a(1313),w=a(1314),A=a(1317),P=a(1315),E=a(1316),N=a(1309),T=a(1291),S=(localStorage.getItem("@BELONGTO"),localStorage.getItem("@UID"));t.default=Object(g.a)("agencyApp",y.a)((function(e){var t=Object(r.c)(),a=Object(r.d)(w.c),i=Object(r.d)(A.c),g=Object(r.d)(P.c),y=Object(r.d)(E.c),I=Object(c.useState)(!0),k=Object(l.a)(I,2),B=k[0],M=k[1],C=Object(c.useState)({}),L=Object(l.a)(C,2),R=L[0],F=L[1],U=Object(c.useState)({}),G=Object(l.a)(U,2),W=G[0],D=G[1],Y=Object(c.useState)(0),z=Object(l.a)(Y,2),K=z[0],V=z[1],H=Object(c.useState)("Show Written Production"),J=Object(l.a)(H,2),q=J[0],Q=J[1],X=Object(c.useState)("Include Initial Bonus in Calculation"),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)(S),ae=Object(l.a)(te,2),ne=ae[0],le=ae[1],ce=Object(c.useState)([]),se=Object(l.a)(ce,2),re=se[0],ie=se[1],oe=Object(c.useState)(o()().format("yyyy")),ue=Object(l.a)(oe,2),be=ue[0],de=(ue[1],Object(c.useState)(o()().format("MMMM"))),me=Object(l.a)(de,2),pe=me[0],fe=me[1],ve=Object(c.useState)("Possible Money"),ge=Object(l.a)(ve,2),Oe=ge[0];return ge[1],Object(c.useEffect)((function(){t(Object(A.b)()),t(Object(P.b)()),t(Object(E.b)(be)),t(Object(w.b)()).then((function(){return M(!1)}))}),[t]),Object(c.useEffect)((function(){var e=[];i.length>0&&(i.map((function(t){t.belongTo===S&&e.push({item:t.data.displayName,value:t.id})})),ie(e))}),[i]),Object(c.useEffect)((function(){if(i.length>0&&g.length>0&&y.length>0){var e=Object(T.g)(y,g,[],i,[],[]);D(e)}}),[y,g,i]),Object(c.useEffect)((function(){if(!O.a.isEmpty(a)&&!O.a.isEmpty(W)){if(0===K&&""===ne)return;if(a.Agency_PossibleMoney_Current_Level_Table){var e=0,t=[],l=[{id:"left_title",value:"Policies",classes:"bg-blue text-white",icon:""}],c=[{id:"left_title",value:"Anual Preminum",classes:"bg-green text-white",icon:""}],s=[{id:"left_title",value:"Avg Premium",classes:"bg-pink text-white",icon:""}],r=[{id:"left_title",value:"Level Reached",classes:"bg-red text-white",icon:""}],o=[{id:"left_title",value:"Target Bonus Earned",classes:"bg-orange text-white",icon:""}];N.k.map((function(t){if("Total"!==t.value){var a=0,n=0,u=0,b=0;0===K?(a=W[q][pe][ne][t.value].Policies,n=W[q][pe][ne][t.value].Premium,u=Object(T.b)(n,a),b=parseFloat((W[q][pe][ne].Auto.Premium/2+W[q][pe][ne].Fire.Premium)*Object(T.f)(a,t.value,g).amount/100),"Include Initial Bonus in Calculation"===$&&(b+=parseFloat(W[q][pe][ne][t.value].Bonuses))):i.map((function(e){if(e.belongTo===S){a+=W[q][pe][e.id][t.value].Policies,n+=W[q][pe][e.id][t.value].Premium,u=Object(T.b)(n,a);var l=W[q][pe][e.id][t.value].Policies;b+=parseFloat(Object(T.f)(l,"Team".concat(t.value),g).amount),"Include Initial Bonus in Calculation"===$&&(b+=parseFloat(W[q][pe][e.id][t.value].Bonuses))}})),l.push({id:t.value,value:a,classes:"",icon:""}),c.push({id:t.value,value:n,classes:"",icon:""}),s.push({id:t.value,value:u,classes:"",icon:""}),r.push({id:t.value,value:0===K?Object(T.f)(a,t.value,g).level:Object(T.f)(a,"Team".concat(t.value),g).level,classes:"",icon:""}),o.push({id:t.value,value:b,classes:"",icon:""}),e+=parseFloat(b)}})),l.push({id:"total",value:e,classes:"",icon:""}),t.push({id:1,cells:l}),t.push({id:2,cells:c}),t.push({id:3,cells:s}),t.push({id:4,cells:r}),t.push({id:5,cells:o}),a=Object(n.a)(Object(n.a)({},a),{},{Agency_PossibleMoney_Current_Level_Table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Current_Level_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Current_Level_Table.table),{},{rows:[].concat(t)})})})}if(a.Agency_PossibleMoney_Next_Level_Table){var u=0,b=[],d=a.Agency_PossibleMoney_Current_Level_Table.table.rows,m=[{id:"left_title",value:"Policies",classes:"bg-blue text-white",icon:""}],p=[{id:"left_title",value:"Anual Preminum",classes:"bg-green text-white",icon:""}],f=[{id:"left_title",value:"Your Level Would Be",classes:"bg-red text-white",icon:""}],v=[{id:"left_title",value:"Your Bonus Would Be",classes:"bg-orange text-white",icon:""}];N.k.map((function(e,t){if("Total"!==e.value){var a=d[0].cells[t+1].value,n=d[1].cells[t+1].value,l=0,c=0,s={};0===K?(l=Object(T.f)(d[0].cells[1].value,"Auto",g).nextPolicies,c=Object(T.f)(d[0].cells[2].value,"Fire",g).nextPolicies,s=Object(T.f)(a,e.value,g)):(l=Object(T.f)(d[0].cells[1].value,"TeamAuto",g).nextPolicies,c=Object(T.f)(d[0].cells[2].value,"TeamFire",g).nextPolicies,s=Object(T.f)(a,"Team".concat(e.value),g));var r=s.nextLevel,o=s.nextPolicies,b=Object(T.b)(n,a)*o,O=Object(T.b)(d[1].cells[1].value,d[0].cells[1].value)*l,y=Object(T.b)(d[1].cells[2].value,d[0].cells[2].value)*c,j=0;0===K?(j=(O/2+y)*s.nextAmount/100,"Include Initial Bonus in Calculation"===$&&(j+=parseFloat(W[q][pe][ne][e.value].Bonuses))):(j=parseFloat(s.nextAmount),"Include Initial Bonus in Calculation"===$&&i.map((function(t){t.belongTo===S&&(j+=parseFloat(W[q][pe][t.id][e.value].Bonuses))}))),u+=parseFloat(j),m.push({id:e.value,value:o,classes:"",icon:""}),p.push({id:e.value,value:b,classes:"",icon:""}),f.push({id:e.value,value:r,classes:"",icon:""}),v.push({id:e.value,value:j,classes:"",icon:""})}})),m.push({id:"total",value:u,classes:"",icon:""}),b.push({id:1,cells:m}),b.push({id:2,cells:p}),b.push({id:4,cells:f}),b.push({id:5,cells:v}),a=Object(n.a)(Object(n.a)({},a),{},{Agency_PossibleMoney_Next_Level_Table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Next_Level_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Next_Level_Table.table),{},{rows:b})})})}if(a.Agency_PossibleMoney_Max_Level_Table){var y=0,j=[],h=a.Agency_PossibleMoney_Current_Level_Table.table.rows,_=[{id:"left_title",value:"Policies",classes:"bg-blue text-white",icon:""}],x=[{id:"left_title",value:"Anual Preminum",classes:"bg-green text-white",icon:""}],w=[{id:"left_title",value:"Your Level Would Be",classes:"bg-red text-white",icon:""}],A=[{id:"left_title",value:"Your Bonus Would Be",classes:"bg-orange text-white",icon:""}];N.k.map((function(e,t){if("Total"!==e.value){var a=h[0].cells[t+1].value,n=h[1].cells[t+1].value,l=0,c=0,s={};0===K?(l=Object(T.f)(h[0].cells[1].value,"Auto",g).maxPolicies,c=Object(T.f)(h[0].cells[2].value,"Fire",g).maxPolicies,s=Object(T.f)(a,e.value,g)):(l=Object(T.f)(h[0].cells[1].value,"TeamAuto",g).maxPolicies,c=Object(T.f)(h[0].cells[2].value,"TeamFire",g).maxPolicies,s=Object(T.f)(a,"Team".concat(e.value),g));var r=s.maxLevel,o=s.maxPolicies,u=Object(T.b)(n,a)*o,b=Object(T.b)(h[1].cells[1].value,h[0].cells[1].value)*l,d=Object(T.b)(h[1].cells[2].value,h[0].cells[2].value)*c,m=0;0===K?(m=(b/2+d)*s.maxAmount/100,"Include Initial Bonus in Calculation"===$&&(m+=parseFloat(W[q][pe][ne][e.value].Bonuses))):(m=parseFloat(s.maxAmount),"Include Initial Bonus in Calculation"===$&&i.map((function(t){t.belongTo===S&&(m+=parseFloat(W[q][pe][t.id][e.value].Bonuses))}))),y+=parseFloat(m),_.push({id:e.value,value:o,classes:"",icon:""}),x.push({id:e.value,value:u,classes:"",icon:""}),w.push({id:e.value,value:r,classes:"",icon:""}),A.push({id:e.value,value:m,classes:"",icon:""})}})),_.push({id:"total",value:y,classes:"",icon:""}),j.push({id:1,cells:_}),j.push({id:2,cells:x}),j.push({id:4,cells:w}),j.push({id:5,cells:A}),a=Object(n.a)(Object(n.a)({},a),{},{Agency_PossibleMoney_Max_Level_Table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Max_Level_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Max_Level_Table.table),{},{rows:j})})})}if(a.Agency_PossibleMoney_BonusPlan_Table&&g.length>0){var P={},E="";E=0===K?"indDb":"teamDb",N.k.map((function(e){"Total"!==e.value&&(P[e.value]={},g[0].hasOwnProperty(N.b[e.value][E])&&Object.keys(g[0][N.b[e.value][E]]).map((function(t){var a=g[0][N.b[e.value][E]][t];P[e.value][a.level]=a})))})),console.log("---Bonus Plan",P);var I=a.Agency_PossibleMoney_BonusPlan_Table.table.rows,k=[];I.map((function(e,t){var a=e,l=[];e.cells.map((function(a,c){var s=a;e.cells[0].value;0===c&&(s=Object(n.a)(Object(n.a)({},s),{},{value:a.value})),c>0&&(console.log(N.k[c-1].value,"level ".concat(t+1)),s=Object(n.a)(Object(n.a)({},s),{},{value:P[N.k[c-1].value]["level ".concat(t+1)].policies})),l.push(s)})),a=Object(n.a)(Object(n.a)({},a),{},{cells:l}),k.push(a)})),a=Object(n.a)(Object(n.a)({},a),{},{Agency_PossibleMoney_BonusPlan_Table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_BonusPlan_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_BonusPlan_Table.table),{},{rows:k})})})}if(a.Agency_PossibleMoney_Chart){var B=[];Object.keys(a.Agency_PossibleMoney_Chart.mainChart.TW.datasets).map((function(e,t){var l=a.Agency_PossibleMoney_Chart.mainChart.TW.datasets[e],c=[];"Total"!==l.label&&(c.push(a.Agency_PossibleMoney_Current_Level_Table.table.rows[4].cells[t+1].value),c.push(a.Agency_PossibleMoney_Next_Level_Table.table.rows[3].cells[t+1].value),c.push(a.Agency_PossibleMoney_Max_Level_Table.table.rows[3].cells[t+1].value),l=Object(n.a)(Object(n.a)({},l),{},{data:c}),B.push(l))})),a=Object(n.a)(Object(n.a)({},a),{},{Agency_PossibleMoney_Chart:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Chart),{},{mainChart:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Chart.mainChart),{},{TW:Object(n.a)(Object(n.a)({},a.Agency_PossibleMoney_Chart.mainChart.TW),{},{datasets:[].concat(B)})})})})}}console.log("----wigets=",a),F({widgets:a})}),[a,W,pe,q,$,ne,K]),B?s.a.createElement(v.a,null):0===R.length?s.a.createElement(u.a,{delay:100},s.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},s.a.createElement(f.a,{color:"textSecondary",variant:"h5"},"There are no data!"))):s.a.createElement(d.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:s.a.createElement(x.a,{title:Oe},s.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},s.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},s.a.createElement(_.a,{value:pe,onChange:function(e){fe(e.target.value)},label:"Report Period",data:N.a.period.data}))),0===K&&re.length>0&&s.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12 w-40"},s.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},s.a.createElement(_.a,{value:ne,onChange:function(e){le(e.target.value)},label:"Users",data:re}))),s.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},s.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},s.a.createElement(_.a,{value:q,onChange:function(e){Q(e.target.value)},label:"Production",data:N.a.production.data}))),s.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},s.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},s.a.createElement(_.a,{value:$,onChange:function(e){ee(e.target.value)},label:"Bonus",data:N.a.bonus.data})))),contentToolbar:s.a.createElement(p.a,{value:K,onChange:function(e,t){V(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},s.a.createElement(m.a,{className:"h-64 normal-case",label:"INDIVIDUALLY"}),s.a.createElement(m.a,{className:"h-64 normal-case",label:"AS A TEAM"})),content:s.a.createElement("div",{className:"w-full p-12"},s.a.createElement("div",{className:"flex items-center justify-center p-12"},s.a.createElement(b.a,{className:"flex flex-wrap w-1/2",enter:{animation:"transition.slideUpBigIn"}},s.a.createElement(h.a,{data:R.widgets.Agency_PossibleMoney_Chart}))),s.a.createElement("div",{className:"p-12"},s.a.createElement(b.a,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},s.a.createElement(j.a,{data:R.widgets.Agency_PossibleMoney_Current_Level_Table}))),s.a.createElement("div",{className:"p-12"},s.a.createElement(b.a,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},s.a.createElement(j.a,{data:R.widgets.Agency_PossibleMoney_Next_Level_Table}))),s.a.createElement("div",{className:"p-12"},s.a.createElement(b.a,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},s.a.createElement(j.a,{data:R.widgets.Agency_PossibleMoney_Max_Level_Table}))),s.a.createElement("div",{className:"p-12"},s.a.createElement(b.a,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},s.a.createElement(j.a,{data:R.widgets.Agency_PossibleMoney_BonusPlan_Table})))),innerScroll:!0})}))}}]);