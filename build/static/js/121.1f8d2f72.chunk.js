(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[121],{1293:function(t,e,a){"use strict";var n=a(6),r=a(13),c=a(0),l=a.n(c),o=a(8),i=a(9),s=a(4),u=a(40),d=a(1334),p=a(1337),m=a(1331),b=a(1335),f=a(1336),g=a(2624),h=a(1245),O=a(1521),v=a(1261),j=a(159),y=a(1236),w=a(649),E=Object(y.a)((function(t){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:t.spacing(1)},spin:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}}}}));var x=function(t){var e=E(),a=t.id,n=t.key,r=t.type,c=t.value,o=t.onChange,i=t.size,s=t.readOnly,u=t.startAdornment,d=t.endAdornment,p=t.inputProps;return l.a.createElement(w.a,{id:a,key:n,className:(e.margin,e.spin),value:c,onChange:o,type:r,size:i,readOnly:s,startAdornment:u,endAdornment:d,inputProps:p})},k=a(1291);e.a=l.a.memo((function(t){Object(o.c)();var e=Object(c.useState)(0),a=Object(r.a)(e,2),y=a[0],w=a[1],E=Object(c.useState)(20),N=Object(r.a)(E,2),S=N[0],A=N[1],R=Object(c.useState)({direction:"asc",id:null}),T=Object(r.a)(R,2),_=T[0],P=T[1],C=t.data.table.tableContent,I=t.data.table.headers,K=t.data.table.rows,B=t.data.table.columns,z=[];return t.sortable&&K.map((function(t,e){z.push(Object(n.a)({},C[t.value]))})),l.a.createElement("div",{className:"flex flex-col min-h-full sm:border-1 sm:rounded-8 overflow-hidden w-full"},""!==t.data.title&&l.a.createElement("div",{className:"flex items-center justify-between px-16 py-16 border-b-1"},l.a.createElement(j.a,{className:"text-16"},t.data.title)),l.a.createElement(u.a,{className:"flex-growNum overflow-x-auto"},l.a.createElement(d.a,{stickyHeader:!0,className:"min-w-full",size:"small","aria-labelledby":"tableTitle"},l.a.createElement(b.a,null,l.a.createElement(f.a,null,B.map((function(t,e){switch(t.id){case"avatar":return l.a.createElement(m.a,{key:t.id,rowSpan:t.rowSpan,align:t.align,className:Object(s.default)("whitespace-wrap p-0 text-xs p-12 border-r-1")},t.title);default:return l.a.createElement(m.a,{key:t.id,colSpan:t.colSpan,rowSpan:t.rowSpan,align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace-wrap p-0 text-xs p-12 \n\t\t\t\t\t\t\t\t\t\t\t\t\t".concat(e===B.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(t.color,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(t.border,"\n\t\t\t\t\t\t\t\t\t\t\t\t"))},t.title)}}))),l.a.createElement(f.a,null,I.map((function(e,a){return l.a.createElement(m.a,{key:e.id,component:"th",scope:"rowNum",align:"center",sortDirection:_.id===e.id&&_.direction,className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tw-md p-0 text-xs p-4 \n\t\t\t\t\t\t\t\t\t\t\t".concat(a===I.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(e.color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&I[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},t.sortable&&l.a.createElement(h.a,{title:"Sort",placement:"right"===e.align?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(g.a,{active:_.id===e.id,direction:_.direction,onClick:(n=e.id,function(t){var e=n,a="desc";_.id===n&&"desc"===_.direction&&(a="asc"),P({direction:a,id:e})})},e.value.substring(e.value.indexOf("@")+1))),!t.sortable&&e.value.substring(e.value.indexOf("@")+1));var n})))),l.a.createElement(p.a,null,!t.sortable&&!i.a.isEmpty(C)&&Object.keys(C).map((function(e,a){return l.a.createElement(f.a,{className:"h-32",key:a},!t.hideLeftHeader&&l.a.createElement(m.a,{key:a,component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t\t".concat(K.length>0&&K[a].color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(K.length>0&&K[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},e),Object.keys(C[e]).map((function(n,r){return"id"!==n&&"type"!==n&&"month"!==n&&l.a.createElement(m.a,{key:"colKey_".concat(a,"_").concat(r),component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(r===Object.keys(C[e]).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(K.length>0&&K[a].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0===B.length&&I[r+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0!==B.length&&I[r].border,"\n\t\t\t\t\t\t\t\t\t\t"))},!t.editable&&0===B.length&&I.length>0&&Object(k.e)(C[e][I[r+1].value]),!t.editable&&0!==B.length&&I.length>0&&Object(k.e)(C[e][I[r].value]),t.editable&&l.a.createElement(x,{id:"contact phone number",key:"input_".concat(a,"_").concat(r),type:"number",value:Object(k.e)(C[e][n]),onChange:function(c){return function(e,a,n,r,c,l){t.onInputChange({tableName:e,row:a,col:n,rowKey:r,colKey:c,value:l})}(t.tableName,a,r,e,n,c.target.value)},size:"small",readOnly:!1,startAdornment:l.a.createElement(v.a,{position:"start"},t.startAdornment),endAdornment:l.a.createElement(v.a,{position:"start"},t.endAdornment),inputProps:{"aria-label":"naked"}}))})))})),t.sortable&&i.a.orderBy(z,[function(t){switch(_.id){case"categories":return t.categories[0];default:return t[_.id]}}],[_.direction]).slice(y*S,y*S+S).map((function(t,e){return l.a.createElement(f.a,{className:"h-32",key:e},l.a.createElement(m.a,{key:e,component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t".concat(K.length>0&&K[e].color,"\n\t\t\t\t\t\t\t\t\t\t").concat(K.length>0&&K[e].border,"\n\t\t\t\t\t\t\t\t\t"))},e+1),Object.keys(t).map((function(a,n){return"id"!==a&&"type"!==a&&"month"!==a&&l.a.createElement(m.a,{key:"colKey_".concat(e,"_").concat(n),component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(n===Object.keys(t).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(K.length>0&&t.border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0===B.length&&I[n+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0!==B.length&&I[n].border,"\n\t\t\t\t\t\t\t\t\t\t"))},0===B.length&&I.length>0&&Object(k.e)(t[a]))})))}))))),t.sortable&&l.a.createElement(O.a,{className:"flex-shrink-0 border-t-1",component:"div",count:z.length,rowsPerPage:S,page:y,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(t,e){w(e)},onChangeRowsPerPage:function(t){A(t.target.value)}}))}))},1298:function(t,e,a){"use strict";var n=a(0),r=a(81);e.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1299:function(t,e,a){"use strict";var n=a(0),r=a(81);e.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1409:function(t,e,a){"use strict";a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return m}));var n=a(33),r=a(14),c=a.n(r),l=a(30),o=a(25),i=a(46),s=a.n(i),u=Object(o.b)("timeReportApp/widgets/getWidgets",Object(l.a)(c.a.mark((function t(){var e,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/api/time-report-app/widgets");case 2:return e=t.sent,t.next=5,e.data;case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))),d=Object(o.c)({}),p=d.getSelectors((function(t){return t.timeReportApp.widgets})),m=p.selectEntities,b=(p.selectById,Object(o.d)({name:"timeReportApp/widgets",initialState:d.getInitialState(),reducers:{},extraReducers:Object(n.a)({},u.fulfilled,d.setAll)}));e.a=b.reducer},1432:function(t,e,a){"use strict";a.d(e,"b",(function(){return m})),a.d(e,"c",(function(){return b})),a.d(e,"d",(function(){return h}));var n=a(33),r=a(14),c=a.n(r),l=a(30),o=a(25),i=a(46),s=a.n(i),u=a(17),d=localStorage.getItem("@BELONGTO"),p=localStorage.getItem("@UID"),m=Object(o.b)("timeReportApp/track/getTracks",(function(t){return new Promise((function(e,a){var n=u.b.ref("TimeReport/".concat(d,"/").concat(p,"/").concat(t)),r=[];n.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(t){r.push(a[t])})),e(a?[a]:[])}))}))})),b=Object(o.b)("timeReportApp/track/saveTrack",function(){var t=Object(l.a)(c.a.mark((function t(e,a){var n,r,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.dispatch,a.getState,t.next=3,s.a.post("/api/time-report-app/track/save",e);case 3:return r=t.sent,t.next=6,r.data;case 6:return l=t.sent,n(m(e.month)),t.abrupt("return",l);case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),f=Object(o.c)({}),g=f.getSelectors((function(t){return t.timeReportApp.tracks})),h=g.selectAll,O=(g.selectById,Object(o.d)({name:"timeReportApp/tracks",initialState:f.getInitialState({cell:{}}),reducers:{setCell:{reducer:function(t,e){var a=e.payload.tableName,n=e.payload.row,r=e.payload.col,c=e.payload.rowKey,l=e.payload.colKey,o=e.payload.value;t.cell={tableName:a,row:n,col:r,rowKey:c,colKey:l,value:o}},prepare:function(t){return{payload:t||""}}}},extraReducers:Object(n.a)({},m.fulfilled,f.setAll)}));O.actions.setCell;e.a=O.reducer},1484:function(t,e,a){"use strict";var n=a(85),r=a(1409),c=a(1432),l=a(33),o=a(25),i=(a(46),a(17)),s=Object(o.b)("timeReportApp/users/getUsers",(function(){return new Promise((function(t,e){var a=i.b.ref("users/"),n=[];a.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(t){n.push(a[t])})),t(n)}))}))})),u=Object(o.c)({}),d=u.getSelectors((function(t){return t.timeReportApp.users})),p=(d.selectAll,d.selectById,Object(o.d)({name:"timeReportApp/users",initialState:u.getInitialState({production:""}),reducers:{setUser:{reducer:function(t,e){t.production=e.payload},prepare:function(t){return{payload:t.target.value||""}}}},extraReducers:Object(l.a)({},s.fulfilled,u.setAll)})),m=(p.actions.setUser,p.reducer),b=Object(n.c)({tracks:c.a,widgets:r.a,users:m});e.a=b},2425:function(t,e,a){"use strict";a.r(e);var n=a(6),r=a(13),c=a(0),l=a.n(c),o=a(8),i=a(113),s=a.n(i),u=a(93),d=(a(161),a(181),a(1284)),p=a(159),m=a(431),b=a(247),f=(a(9),a(1484)),g=a(1293),h=(a(1310),a(1311),a(1312)),O=a(1409),v=a(1313);a(1309);console.log("-----------------------",s()().format("dddd"));for(var j=s()().startOf("year"),y=s()().endOf("year"),w=j=j.startOf("isoWeek"),E=(y=y.endOf("isoWeek")).diff(j,"days")+1,x={id:"Week Ending",data:[]},k=[],N=0;N<E;N++){var S=w.format("YYYY-MM-DD");w.add(1,"days"),(N+1)%14===0&&(k.push(S),x.data.push({item:S,value:S}))}e.default=Object(b.a)("timeReportApp",f.a)((function(t){var e=Object(o.c)(),a=Object(o.d)(O.c),i=Object(c.useState)(!0),s=Object(r.a)(i,2),b=s[0],f=s[1],j=Object(c.useState)({widgets:a}),y=Object(r.a)(j,2),w=y[0],E=y[1],k=Object(c.useState)(""),N=Object(r.a)(k,2),S=N[0],A=N[1],R=Object(c.useState)("Time Report"),T=Object(r.a)(R,2),_=T[0];return T[1],Object(c.useEffect)((function(){e(Object(O.b)()).then((function(){return f(!1)}))}),[e]),Object(c.useEffect)((function(){if(a.Time_Report_Table){var t=a.Time_Report_Table.table.rows,e=a.Time_Report_Table.table.headers,r={};t.map((function(t){r[t.value]={},e.map((function(e,a){a>0&&(r[t.value][e.value]=0)}))})),a=Object(n.a)(Object(n.a)({},a),{},{Time_Report_Table:Object(n.a)(Object(n.a)({},a.Time_Report_Table),{},{table:Object(n.a)(Object(n.a)({},a.Time_Report_Table.table),{},{tableContent:r})})})}console.log("--------widgets",a),E({widgets:a})}),[a]),b?l.a.createElement(m.a,null):0===w.length?l.a.createElement(u.a,{delay:100},l.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},l.a.createElement(p.a,{color:"textSecondary",variant:"h5"},"There are no data!"))):l.a.createElement(d.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:l.a.createElement(v.a,{title:_},l.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},l.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},l.a.createElement(h.a,{value:S,onChange:function(t){A(t.target.value)},label:"Week Ending",data:x.data})))),content:l.a.createElement("div",{className:"w-full p-12"},l.a.createElement("div",{className:"p-12"},l.a.createElement(g.a,{data:w.widgets.Time_Report_Table})),l.a.createElement("div",{className:"p-12"},l.a.createElement(g.a,{data:w.widgets.Time_Report_Table}))),innerScroll:!0})}))}}]);