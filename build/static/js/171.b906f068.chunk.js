(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[171],{2593:function(e,t,a){"use strict";a.r(t);var n,l=a(181),c=a(247),r=a(0),i=a.n(r),o=a(8),s=a(1233),m=a(33),u=a(14),d=a.n(u),p=a(30),f=a(25),b=a(46),h=a.n(b),v=Object(f.b)("notesApp/labels/getLabels",Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/notes-app/labels");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),E=Object(f.b)("notesApp/labels/updateLabels",function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/notes-app/update-labels",{labels:Object.values(t)});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(f.c)({}),g=x.getSelectors((function(e){return e.notesApp.labels})),N=g.selectAll,y=g.selectEntities,O=(g.selectById,Object(f.d)({name:"notesApp/labels",initialState:x.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:function(e,t){e.labelsDialogOpen=!0},closeLabelsDialog:function(e,t){e.labelsDialogOpen=!1}},extraReducers:(n={},Object(m.a)(n,v.fulfilled,x.setAll),Object(m.a)(n,E.fulfilled,x.setAll),n)})),j=O.actions,k=j.openLabelsDialog,w=j.closeLabelsDialog,C=O.reducer,S=a(13),D=a(144),I=a(9),z=a(1238),A=a(1177),L=a(648),T=a(1182),_=a(1183),R=a(159),F=a(31);var H=function(e){var t=e||{};return{id:t.id||F.a.generateGUID(),name:t.name||"",get handle(){return F.a.handleize(this.name)}}},U=a(4);var M=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.notesApp.labels.entities})),n=Object(r.useState)(a),l=Object(S.a)(n,2),c=l[0],s=l[1],m=Object(D.c)({name:""}),u=m.form,d=m.handleChange,p=m.resetForm;Object(r.useEffect)((function(){s(a)}),[a]);var f=Object(D.a)((function(e){t(E(e))}),600);function b(){return""===u.name}return Object(r.useEffect)((function(){c&&!I.a.isEqual(c,a)&&f(c)}),[f,a,c]),i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{className:"text-16 mb-8 font-600"},"Edit Labels"),i.a.createElement(T.a,{dense:!0},i.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!b()){var t=new H(u);s(I.a.setIn(c,t.id,t)),p()}}},i.a.createElement(_.a,{className:"p-0 mb-16",dense:!0},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"add"),i.a.createElement(L.a,{className:Object(U.default)("flex flex-1 mx-8"),name:"name",value:u.name,onChange:d,placeholder:"Create new label"}),i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",disabled:b(),type:"submit"},i.a.createElement(z.a,{fontSize:"small"},"check")))),Object(r.useMemo)((function(){return Object.entries(c).map((function(e){var t=Object(S.a)(e,2),a=(t[0],t[1]);return i.a.createElement(_.a,{className:"p-0",key:a.id,dense:!0},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"label"),i.a.createElement(L.a,{className:Object(U.default)("flex flex-1 mx-8"),name:"name",value:a.name,onChange:function(e){return function(e,t){var a=new H(I.a.setIn(t,e.target.name,e.target.value));s(I.a.setIn(c,a.id,a))}(e,a)},disableUnderline:!0}),i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(e){return function(e){s(I.a.omit(c,[e.id]))}(a)}},i.a.createElement(z.a,{fontSize:"small"},"delete")))}))}),[c])))};var W=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.notesApp.labels.labelsDialogOpen}));return i.a.createElement(s.a,{classes:{paper:"w-full max-w-320 p-16 m-24 rounded-8"},onClose:function(e){return t(w())},open:a},i.a.createElement(M,null))},B=a(1187),P=a(40),Y=a(1244),G=a(1248),V=a(1245);var q=function(e){var t=e||{};return{id:t.id||F.a.generateGUID(),title:t.title||"",description:t.description||"",archive:t.archive||!1,image:t.image||"",time:t.time||null,reminder:t.reminder||null,checklist:t.checklist||[],labels:t.labels||[]}},J=a(6),K=a(1274),Q=a(19);var X=function(e){var t=Object(o.d)(y);if(!t)return null;var a=t[e.id];if(!a)return null;var n=e.linkable?{component:Q.a,onClick:function(e){e.stopPropagation()},to:"/apps/notes/labels/".concat(a.handle,"/").concat(a.id)}:{};return i.a.createElement(K.a,Object.assign({},n,{label:a.name,classes:Object(J.a)({root:Object(U.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}))},Z=a(113),$=a.n(Z);var ee=function(e){return e.date?i.a.createElement(K.a,{icon:i.a.createElement(z.a,{className:"text-16"},"access_time"),label:$()(e.date).format("MMM DD YY, h:mm A"),classes:Object(J.a)({root:Object(U.default)("h-24",e.className),label:"px-12 py-4 text-11",deleteIcon:"w-16"},e.classes),variant:"outlined",onDelete:e.onDelete}):null},te=a(53),ae=a(11);var ne=function(e){var t=e||{};return{id:t.id||F.a.generateGUID(),checked:t.checked||!1,text:t.text||""}};var le=function(e){var t=Object(D.c)({text:""}),a=t.form,n=t.handleChange,l=t.resetForm;function c(){return""===a.text}return i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),c()||(e.onListItemAdd(new ne(a)),l())}},i.a.createElement(_.a,{className:"p-0",dense:!0},i.a.createElement(A.a,{className:"w-32 h-32 p-0 -mx-4","aria-label":"Add",type:"submit",disabled:c()},i.a.createElement(z.a,{fontSize:"small"},"add")),i.a.createElement(L.a,{className:"flex flex-1 px-8",name:"text",value:a.text,onChange:n,placeholder:"Add an item",disableUnderline:!0,autoFocus:!0})))},ce=a(1268);var re=function(e){function t(t){e.onListItemChange(I.a.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?i.a.createElement(_.a,{className:"p-0",key:e.item.id,dense:!0},i.a.createElement(ce.a,{className:"p-0",checked:e.item.checked,tabIndex:-1,disableRipple:!0,name:"checked",onChange:t,color:"default"}),i.a.createElement(L.a,{className:Object(U.default)("flex flex-1 mx-8",e.item.checked&&"line-through opacity-50"),name:"text",value:e.item.text,onChange:t,disableUnderline:!0}),i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:function(){return e.onListItemRemove(e.item.id)}},i.a.createElement(z.a,{fontSize:"small"},"delete"))):null};var ie=function(e){function t(t){e.onCheckListChange(e.checklist.map((function(e){return e.id===t.id?t:e})))}function a(t){e.onCheckListChange(e.checklist.filter((function(e){return e.id!==t})))}return e.checklist?i.a.createElement("div",{className:e.className},i.a.createElement(T.a,{dense:!0},e.checklist.map((function(e){return i.a.createElement(re,{item:e,key:e.id,onListItemChange:t,onListItemRemove:a})})),i.a.createElement(le,{onListItemAdd:function(t){e.onCheckListChange([].concat(Object(ae.a)(e.checklist),[t]))}}))):null},oe=a(1175),se=a(1250),me=a(1180);var ue=function(e){var t=Object(o.d)((function(e){return e.notesApp.labels.entities})),a=Object(r.useState)(null),n=Object(S.a)(a,2),l=n[0],c=n[1];function s(){c(null)}return i.a.createElement("div",null,i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),c(e.currentTarget)}},i.a.createElement(z.a,{fontSize:"small"},"label")),i.a.createElement(me.a,{hideBackdrop:!0,open:Boolean(l),anchorEl:l,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"}},i.a.createElement(oe.a,{onClickAway:s},i.a.createElement(T.a,{className:"p-0"},Object.entries(t).map((function(t){var a=Object(S.a)(t,2),n=(a[0],a[1]);return i.a.createElement(_.a,{key:n.id,button:!0,dense:!0,onClick:function(){return t=n.id,void e.onChange(I.a.xor(e.note.labels,[t]));var t}},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},e.note.labels.includes(n.id)?"check_box":"check_box_outline_blank"),i.a.createElement(se.a,{className:"truncate px-8",primary:n.name,disableTypography:!0}))}))))))},de=a(1324),pe=a(1204),fe=a(1570);var be=function(e){var t=Object(r.useState)(!1),a=Object(S.a)(t,2),n=a[0],l=a[1],c=new Date(e.reminder);return i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){return l(!0)}},i.a.createElement(z.a,{fontSize:"small"},"notifications_active")),i.a.createElement(pe.a,{utils:de.a},i.a.createElement(fe.a,{className:"hidden",open:n,onOpen:function(){return l(!0)},onClose:function(){return l(!1)},clearable:!0,showTodayButton:!0,disablePast:!0,value:c,onChange:e.onChange,DialogProps:{className:"prevent-add-close"}})))};var he=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"button-file"},i.a.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:e.onChange}),i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0",component:"span"},i.a.createElement(z.a,{fontSize:"small"},"image"))))};function ve(e){var t=Object(r.useState)(!1),a=Object(S.a)(t,2),n=a[0],l=a[1],c=Object(te.j)(),o=Object(D.c)(I.a.merge({},new q,e.note,c.labelId?{labels:[c.labelId]}:null,"archive"===c.id?{archive:!0}:null)),s=o.form,m=o.handleChange,u=o.setForm,d=e.onChange;function p(t){e.onCreate&&e.onCreate(s)}function f(){return""===s.title&&""===s.image&&""===s.description&&0===s.checklist.length}return Object(D.e)((function(){s&&d&&d(s)}),[s,d]),s?i.a.createElement("div",{className:"flex flex-col w-full"},i.a.createElement(P.a,{className:"flex flex-auto w-full max-h-640"},i.a.createElement("div",{className:"w-full"},s.image&&""!==s.image&&i.a.createElement("div",{className:"relative"},i.a.createElement("img",{src:s.image,className:"w-full block",alt:"note"}),i.a.createElement(G.a,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",onClick:function(){u(I.a.setIn(s,"image",""))}},i.a.createElement(z.a,{fontSize:"small"},"delete"))),i.a.createElement("div",{className:"p-16 pb-12"},i.a.createElement(L.a,{className:"font-bold",placeholder:"Title",type:"text",name:"title",value:s.title,onChange:m,disableUnderline:!0,fullWidth:!0})),i.a.createElement("div",{className:"p-16 pb-12"},i.a.createElement(L.a,{placeholder:"Take a note...",multiline:!0,rows:"4",name:"description",value:s.description,onChange:m,disableUnderline:!0,fullWidth:!0,autoFocus:!0})),(s.checklist.length>0||n)&&i.a.createElement("div",{className:"px-16"},i.a.createElement(ie,{checklist:s.checklist,onCheckListChange:function(e){u(I.a.setIn(s,"checklist",e))}})),(s.labels||s.reminder||s.time)&&i.a.createElement("div",{className:"flex flex-wrap w-full p-16 pb-12 -mx-4"},s.reminder&&i.a.createElement(ee,{className:"mt-4 mx-4",date:s.reminder}),s.labels&&s.labels.map((function(e){return i.a.createElement(X,{id:e,key:e,className:"mt-4 mx-4",onDelete:function(){return function(e){u(I.a.setIn(s,"labels",s.labels.filter((function(t){return t!==e}))))}(e)}})})),s.time&&i.a.createElement(R.a,{color:"textSecondary",className:"text-12 mt-8 mx-4"},"Edited: ",$()(s.time).format("MMM DD YY, h:mm A"))))),i.a.createElement("div",{className:"flex flex-auto justify-between items-center h-48"},i.a.createElement("div",{className:"flex items-center px-4"},i.a.createElement(V.a,{title:"Remind me",placement:"bottom"},i.a.createElement("div",null,i.a.createElement(be,{reminder:s.reminder,onChange:function(e){u(I.a.setIn(s,"reminder",e))}}))),i.a.createElement(V.a,{title:"Add image",placement:"bottom"},i.a.createElement("div",null,i.a.createElement(he,{onChange:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsBinaryString(t),a.onload=function(){u(I.a.setIn(s,"image","data:".concat(t.type,";base64,").concat(btoa(a.result))))},a.onerror=function(){console.log("error on load image")}}}}))),i.a.createElement(V.a,{title:"Add checklist",placement:"bottom"},i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){l(!n)}},i.a.createElement(z.a,{fontSize:"small"},"playlist_add_check"))),i.a.createElement(V.a,{title:"Change labels",placement:"bottom"},i.a.createElement("div",null,i.a.createElement(ue,{note:s,onChange:function(e){u(I.a.setIn(s,"labels",e))}}))),i.a.createElement(V.a,{title:s.archive?"Unarchive":"Archive",placement:"bottom"},i.a.createElement("div",null,i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:function(){u(I.a.setIn(s,"archive",!s.archive)),"new"===e.variant&&setTimeout((function(){return p()}))},disabled:f()},i.a.createElement(z.a,{fontSize:"small"},s.archive?"unarchive":"archive"))))),i.a.createElement("div",{className:"flex items-center px-4"},"new"===e.variant?i.a.createElement(Y.a,{className:"m-4",onClick:p,variant:"outlined",size:"small",disabled:f()},"Create"):i.a.createElement(i.a.Fragment,null,i.a.createElement(V.a,{title:"Delete Note",placement:"bottom"},i.a.createElement(A.a,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove},i.a.createElement(z.a,{fontSize:"small"},"delete"))),i.a.createElement(Y.a,{className:"m-4",onClick:e.onClose,variant:"outlined",size:"small"},"Close"))))):null}ve.defaultProps={variant:"edit",note:null};var Ee,xe=Object(te.k)(ve),ge=Object(f.b)("notesApp/notes/getNotes",Object(p.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/api/notes-app/notes");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),Ne=Object(f.b)("notesApp/notes/createNote",function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/notes-app/create-note",{note:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=Object(f.b)("notesApp/notes/updateNote",function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/notes-app/update-note",{note:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Oe=Object(f.b)("notesApp/notes/removeNote",function(){var e=Object(p.a)(d.a.mark((function e(t,a){var n,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,a.getState,e.next=3,h.a.post("/api/notes-app/remove-note",{noteId:t});case 3:return l=e.sent,e.next=6,l.data;case 6:return c=e.sent,n(Le()),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),je=Object(f.c)({}),ke=je.getSelectors((function(e){return e.notesApp.notes})),we=ke.selectAll,Ce=(ke.selectEntities,ke.selectById,Object(f.d)({name:"notesApp/notes",initialState:je.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}},resetNotesSearchText:function(e,t){e.searchText=""},toggleVariateDescSize:function(e,t){e.variateDescSize=!e.variateDescSize},openNoteDialog:function(e,t){e.noteDialogId=t.payload},closeNoteDialog:function(e,t){e.noteDialogId=t.null}},extraReducers:(Ee={},Object(m.a)(Ee,ge.fulfilled,je.setAll),Object(m.a)(Ee,Ne.fulfilled,je.addOne),Object(m.a)(Ee,ye.fulfilled,je.upsertOne),Object(m.a)(Ee,Oe.fulfilled,je.removeOne),Ee)})),Se=Ce.actions,De=Se.setNotesSearchText,Ie=Se.resetNotesSearchText,ze=Se.toggleVariateDescSize,Ae=Se.openNoteDialog,Le=Se.closeNoteDialog,Te=Ce.reducer,_e=i.a.forwardRef((function(e,t){return i.a.createElement(B.a,Object.assign({direction:"up",ref:t},e))}));var Re=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.notesApp.notes})),n=Object(D.a)((function(e){t(ye(e))}),600);return a.entities?i.a.createElement(s.a,{classes:{paper:"w-full m-24 rounded-8"},TransitionComponent:_e,onClose:function(e){return t(Le())},open:Boolean(a.noteDialogId)},i.a.createElement(xe,{note:a.entities[a.noteDialogId],onChange:n,onClose:function(e){return t(Le())},onRemove:function(){t(Oe(a.noteDialogId))}})):null},Fe=a(215),He=a(1236),Ue=Object(He.a)({button:{cursor:"text"}});var Me=function(e){var t=Object(o.c)(),a=Ue(e),n=Object(r.useState)(!1),l=Object(S.a)(n,2),c=l[0],s=l[1];function m(){c&&(s(!1),document.removeEventListener("keydown",u,!1))}function u(e){27===e.keyCode&&m()}return i.a.createElement(Fe.a,{className:Object(U.default)(a.button,"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 rounded-8 shadow")},c?i.a.createElement(oe.a,{onClickAway:function(e){var t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||m()}},i.a.createElement("div",{className:"w-full"},i.a.createElement(xe,{onCreate:function(e){t(Ne(e)),m()},variant:"new"}))):i.a.createElement(R.a,{className:"w-full px-16 py-12 font-500 text-16 w-full",color:"textSecondary",onClick:function(e){e.stopPropagation(),s(!0),document.addEventListener("keydown",u,!1)}},"Take a note.."))},We=a(1574),Be=a.n(We),Pe=a(93),Ye=a(1255),Ge={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};var Ve=function(e,t,a){if(t){t.style.fontSize=null,t.style.lineHeight=null;var n=t.clientWidth;if(0!==n&&a){var l,c=document.createElement("div");c.style.display="inline-block",c.style.fontSize="10px",c.style.fontWeight="200",c.style.lineHeight="10px",c.style.position="absolute",c.style.whiteSpace="pre-wrap",c.style.wordWrap="break-word",c.style.pointerEvents="none",c.style.visibility="hidden",document.body.appendChild(c);var r=e.split(" ").map((function(e){return c.textContent=e.toString(),c.clientWidth})),i=Math.max.apply(Math,Object(ae.a)(r)),o=Math.floor(10*n/i);o<18?l=1:o>=18&&o<24?l=2:o>=24&&o<36?l=3:o>=36&&o<48?l=4:o>=48&&(l=5);var s=Ge[l],m=s.lineHeight,u=s.fontSize;c.textContent=e,c.style.width="".concat(n,"px"),c.style.fontSize="".concat(u,"px"),c.style.lineHeight="".concat(m,"px");var d=c.clientHeight/m;d>4&&d<6?l=4:d>=6&&d<9?l=3:d>=9&&d<11?l=2:d>=11&&(l=1),document.body.removeChild(c),m=Ge[l].lineHeight,u=Ge[l].fontSize,t.style.fontSize="".concat(u,"px"),t.style.lineHeight="".concat(m,"px")}}};var qe=function(e){var t=Object(o.c)();return i.a.createElement(Pe.a,{animation:"transition.fadeIn",duration:400,delay:100},i.a.createElement(Ye.a,{className:Object(U.default)("cursor-pointer",e.className),onClick:function(){return t(Ae(e.note.id))}},e.note.image&&""!==e.note.image&&i.a.createElement("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&i.a.createElement(R.a,{className:"p-16 pb-8 text-14 font-bold"},e.note.title),e.note.description&&""!==e.note.description&&i.a.createElement(R.a,{className:"py-8 px-16",component:"div"},i.a.createElement("div",{className:Object(U.default)("w-full break-words",e.variateDescSize?"font-200":"text-14"),ref:function(t){setTimeout((function(){return Ve(e.note.description,t,e.variateDescSize)}))}},e.note.description)),e.note.checklist&&e.note.checklist.length>0&&i.a.createElement("ul",{className:"py-8 px-16 flex flex-wrap list-reset"},e.note.checklist.map((function(e){return i.a.createElement("li",{key:e.id,className:"flex items-center w-full"},i.a.createElement(z.a,{color:"action",className:"text-16"},e.checked?"check_box_outline":"check_box_outline_blank"),i.a.createElement(R.a,{className:Object(U.default)("truncate mx-8",e.checked&&"line-through"),color:e.checked?"textSecondary":"inherit"},e.text))}))),(e.note.labels.length>0||e.note.reminder)&&i.a.createElement("div",{className:"py-8 px-16 flex flex-wrap w-full -mx-2"},e.note.reminder&&i.a.createElement(ee,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((function(e){return i.a.createElement(X,{id:e,key:e,className:"mt-4 mx-2 max-w-full",linkable:!0})})))))};var Je=Object(te.k)((function(e){var t=Object(o.d)(we),a=Object(o.d)((function(e){return e.notesApp.notes.variateDescSize})),n=Object(o.d)((function(e){return e.notesApp.notes.searchText})),l=Object(r.useState)(null),c=Object(S.a)(l,2),s=c[0],m=c[1];return Object(r.useEffect)((function(){t.length>0&&m(function(){var a=e.match.params,l=a.id,c=a.labelId,r=t;return c&&(r=r.filter((function(e){return e.labels.includes(c)&&!e.archive}))),l||(r=r.filter((function(e){return!e.archive}))),"archive"===l&&(r=r.filter((function(e){return e.archive}))),"reminders"===l&&(r=r.filter((function(e){return Boolean(e.reminder)&&!e.archive}))),0===n.length?r:r=F.a.filterArrayByString(r,n)}())}),[t,n,e.match]),s&&0!==s.length?i.a.createElement("div",{className:"flex flex-wrap w-full"},i.a.createElement(Be.a,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-0 md:p-8"},s.map((function(e){return i.a.createElement(qe,{key:e.id,note:e,className:"w-full rounded-8 shadow mb-16",variateDescSize:a})})))):i.a.createElement("div",{className:"flex items-center justify-center h-full"},i.a.createElement(R.a,{color:"textSecondary",variant:"h5"},"There are no notes!"))})),Ke=a(1269),Qe=Object(He.a)((function(e){return{root:{},inputWrapper:{backgroundColor:e.palette.primary.dark}}}));function Xe(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.notesApp.notes.notesSearchText})),n=Qe(e),l=Object(r.useState)(!1),c=Object(S.a)(l,2),s=c[0],m=c[1];function u(e){e.stopPropagation(),m(!0),document.addEventListener("keydown",p,!1)}function d(){m(!1),t(Ie()),document.removeEventListener("keydown",p,!1)}function p(e){27===e.keyCode&&d()}return i.a.createElement("div",{className:Object(U.default)(n.root,"flex",e.className)},i.a.createElement(V.a,{title:"Click to search",placement:"bottom"},i.a.createElement("div",{onClick:u,onKeyDown:u,role:"button",tabIndex:0},e.trigger)),s&&i.a.createElement(oe.a,{onClickAway:function(){d()}},i.a.createElement("div",{className:Object(U.default)(n.inputWrapper,"absolute left-0 right-0 top-0 bottom-0 h-full z-9999 px-8 sm:px-24")},i.a.createElement("div",{className:"flex items-center w-full h-full"},i.a.createElement(L.a,{placeholder:"Search for anything",className:"flex flex-1 py-0 px-16 h-64",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(De(e))},autoFocus:!0}),i.a.createElement(A.a,{onClick:d,className:"mx-8"},i.a.createElement(z.a,null,"close"))))))}Xe.defaultProps={trigger:i.a.createElement(A.a,{className:"w-64 h-64"},i.a.createElement(z.a,null,"search"))};var Ze=Xe;var $e=function(e){var t=Object(o.c)(),a=Object(o.d)((function(e){return e.notesApp.notes.variateDescSize}));return i.a.createElement("div",{className:"flex flex-1 items-center justify-between p-8 sm:p-24 relative"},i.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},i.a.createElement(Ke.a,{lgUp:!0},i.a.createElement(A.a,{onClick:function(t){return e.pageLayout.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},i.a.createElement(z.a,null,"menu"))),i.a.createElement("div",{className:"flex items-center"},i.a.createElement(Pe.a,{animation:"transition.expandIn",delay:300},i.a.createElement(z.a,{className:"text-32"},"account_box")),i.a.createElement(Pe.a,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(R.a,{variant:"h6",className:"mx-12 hidden sm:flex"},"Notes")))),i.a.createElement("div",{className:"flex flex-1 items-center justify-end"},i.a.createElement(V.a,{title:"Toggle Variate Description Size"},i.a.createElement(A.a,{onClick:function(e){return t(ze())}},i.a.createElement(z.a,{color:a?"action":"disabled"},"format_size"))),i.a.createElement(Ze,null)))},et=a(108),tt=a(1254),at=a(1253),nt=Object(He.a)((function(e){return{paper:Object(m.a)({},e.breakpoints.down("md"),{boxShadow:"none"}),listItem:{color:"inherit!important",textDecoration:"none!important",height:40,width:"calc(100% - 16px)",borderRadius:"0 20px 20px 0",paddingLeft:24,paddingRight:12,"&.active":{backgroundColor:e.palette.secondary.main,color:"".concat(e.palette.secondary.contrastText,"!important"),pointerEvents:"none","& .list-item-icon":{color:"inherit"}},"& .list-item-icon":{marginRight:16}}}}));var lt=function(e){var t=Object(o.c)(),a=Object(o.d)(N),n=nt(e);return i.a.createElement("div",{className:"p-0 lg:p-24 lg:ltr:pr-4 lg:rtl:pl-4"},i.a.createElement(Pe.a,{animation:"transition.slideLeftIn",delay:200},i.a.createElement(Fe.a,{className:Object(U.default)(n.paper,"rounded-0 shadow-none lg:rounded-8 lg:shadow")},i.a.createElement(T.a,null,i.a.createElement(_.a,{button:!0,component:et.a,to:"/apps/notes",exact:!0,activeClassName:"active",className:n.listItem},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"label"),i.a.createElement(se.a,{className:"truncate",primary:"Notes",disableTypography:!0})),i.a.createElement(_.a,{button:!0,component:et.a,to:"/apps/notes/reminders",exact:!0,activeClassName:"active",className:n.listItem},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"notifications"),i.a.createElement(se.a,{className:"truncate",primary:"Reminders",disableTypography:!0}))),i.a.createElement(tt.a,null),i.a.createElement(T.a,null,i.a.createElement(at.a,null,"Labels"),a.map((function(e){return i.a.createElement(_.a,{key:e.id,button:!0,component:et.a,to:"/apps/notes/labels/".concat(e.handle,"/").concat(e.id),exact:!0,activeClassName:"active",className:n.listItem},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"label"),i.a.createElement(se.a,{className:"truncate",primary:e.name,disableTypography:!0}))})),i.a.createElement(_.a,{button:!0,className:n.listItem,onClick:function(e){return t(k())}},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"edit"),i.a.createElement(se.a,{className:"truncate",primary:"Edit Labels",disableTypography:!0}))),i.a.createElement(tt.a,null),i.a.createElement(T.a,null,i.a.createElement(_.a,{button:!0,component:et.a,to:"/apps/notes/archive",activeClassName:"active",className:n.listItem},i.a.createElement(z.a,{className:"list-item-icon text-16",color:"action"},"archive"),i.a.createElement(se.a,{className:"truncate",primary:"Archive",disableTypography:!0}))))))},ct=a(85),rt=Object(ct.c)({notes:Te,labels:C});t.default=Object(c.a)("notesApp",rt)((function(e){var t=Object(o.c)(),a=Object(r.useRef)(null);return Object(r.useEffect)((function(){t(ge()),t(v())}),[t]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{classes:{contentWrapper:"p-16 sm:p-24 pb-80",content:"flex min-h-full",leftSidebar:"w-256 border-0",header:"min-h-72 h-72"},header:i.a.createElement($e,{pageLayout:a}),content:i.a.createElement("div",{className:"flex flex-col w-full items-center"},i.a.createElement(Me,null),i.a.createElement(Je,null),i.a.createElement(Re,null),i.a.createElement(W,null)),leftSidebarContent:i.a.createElement(lt,null),sidebarInner:!0,ref:a,innerScroll:!0}))}))}}]);