(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[155],{1298:function(e,t,a){"use strict";var n=a(0),c=a(81);t.a=Object(c.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1299:function(e,t,a){"use strict";var n=a(0),c=a(81);t.a=Object(c.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},2617:function(e,t,a){"use strict";a.r(t);var n=a(1284),c=a(247),l=a(0),r=a.n(l),o=a(1376),i=a(93),s=a(1244),d=a(1238),u=a(648),m=a(215),p=a(1246),f=a(159),y=a(8),b=a(19),h=a(34),g=a(1345);var E=function(e){var t=Object(y.c)(),a=Object(y.d)((function(e){return e.eCommerceApp.products.searchText})),n=Object(y.d)(h.e);return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(i.a,{animation:"transition.expandIn",delay:300},r.a.createElement(d.a,{className:"text-32"},"point_of_sale")),r.a.createElement(i.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(f.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Sales"))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},r.a.createElement(p.a,{theme:n},r.a.createElement(i.a,{animation:"transition.slideDownIn",delay:300},r.a.createElement(m.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8 shadow"},r.a.createElement(d.a,{color:"action"},"search"),r.a.createElement(u.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(Object(g.g)(e))}}))))),r.a.createElement(i.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(s.a,{component:b.a,to:"/apps/enter-sales/entry/new",className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary"},r.a.createElement("span",{className:"hidden sm:flex"},"Add Sales"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},O=a(13),P=a(40),w=a(9),j=a(1268),N=a(1334),x=a(1337),C=a(1331),I=a(1521),v=a(1336),k=a(53),S=a(431),T=a(1366),B=a(1365),H=a(1177),A=a(1260),M=a(1250),D=a(633),L=a(1240),W=a(1181),Y=a(1236),R=a(1335),V=a(2624),z=a(1245),F=a(4),U=a(1233),q=a(1265),_=a(1263),J=a(1264),K=a(1262),$=[{id:"policyHolderName",align:"center",disablePadding:!1,label:" Policyholder Name",sort:!0},{id:"policyInformation",align:"center",disablePadding:!1,label:"Policy Information (i.e. Vehicle Type)",sort:!0},{id:"datePolicyIsWritten",align:"center",disablePadding:!1,label:"Date Policy Is Written",sort:!0},{id:"datePolicyIsIssued",align:"center",disablePadding:!1,label:"Date Policy Is Issued",sort:!0},{id:"percentOfSaleCredit",align:"center",disablePadding:!1,label:"Percent of Sale Credit",sort:!0},{id:"typeOfProduct",align:"center",disablePadding:!1,label:"Type of Product",sort:!0},{id:"user",align:"center",disablePadding:!1,label:"User",sort:!0},{id:"type",align:"center",disablePadding:!1,label:"Type",sort:!0},{id:"policyPremium",align:"center",disablePadding:!1,label:"Semi-Annual Policy Premium",sort:!0},{id:"sourceOfBusiness",align:"center",disablePadding:!1,label:"Source of Business",sort:!0},{id:"dollarBonus",align:"center",disablePadding:!1,label:"Dollar Bonus",sort:!0}],G=Object(Y.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var Q=function(e){var t=G(e),a=e.selectedProductIds,n=a.length,c=Object(l.useState)(null),o=Object(O.a)(c,2),i=o[0],u=o[1],m=r.a.useState(!1),p=Object(O.a)(m,2),f=p[0],b=p[1],h=Object(y.c)();function E(){u(null)}var P=function(){b(!1),e.onMenuItemClick(),E()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,null,r.a.createElement(v.a,{className:"h-64"},r.a.createElement(C.a,{padding:"none",className:"w-40 md:w-64 text-center z-99"},r.a.createElement(j.a,{indeterminate:n>0&&n<e.rowCount,checked:0!==e.rowCount&&n===e.rowCount,onChange:e.onSelectAllClick}),n>0&&r.a.createElement("div",{className:Object(F.default)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",t.actionsButtonWrapper)},r.a.createElement(H.a,{"aria-owns":i?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){u(e.currentTarget)}},r.a.createElement(d.a,null,"more_horiz")),r.a.createElement(D.a,{id:"selectedProductsMenu",anchorEl:i,open:Boolean(i),onClose:E},r.a.createElement(W.a,null,r.a.createElement(L.a,{onClick:function(){b(!0)}},r.a.createElement(A.a,{className:"min-w-40"},r.a.createElement(d.a,null,"delete")),r.a.createElement(M.a,{primary:"Remove"})))))),$.map((function(t){return r.a.createElement(C.a,{className:"p-1 md:p-1 text-xs",key:t.id,align:t.align,padding:t.disablePadding?"none":"default",sortDirection:e.order.id===t.id&&e.order.direction},t.sort&&r.a.createElement(z.a,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(V.a,{active:e.order.id===t.id,direction:e.order.direction,onClick:(a=t.id,function(t){e.onRequestSort(t,a)})},t.label)));var a}),this))),r.a.createElement(U.a,{open:f,onClose:P,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(K.a,{id:"alert-dialog-title"},"Are you really delete this item?"),r.a.createElement(_.a,null,r.a.createElement(J.a,{id:"alert-dialog-description"},"You will lost this data.")),r.a.createElement(q.a,null,r.a.createElement(s.a,{onClick:P,color:"primary"},"No"),r.a.createElement(s.a,{onClick:function(){b(!1),h(Object(g.c)(a)),e.onMenuItemClick(),E()},color:"primary",autoFocus:!0},"Yes"))))},X=a(113),Z=a.n(X),ee=a(1324),te=a(1204),ae=Object(Y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var ne=Object(k.k)((function(e){var t=Object(y.c)(),a=Object(y.d)(g.e),n=Object(y.d)(T.c),c=(Object(y.d)(B.c),Object(y.d)((function(e){return e.eCommerceApp.products.searchText}))),o=(Object(y.d)((function(e){return e.auth.user.data.displayName})),ae(),Object(l.useState)(!0)),i=Object(O.a)(o,2),s=i[0],d=i[1],u=Object(l.useState)([]),m=Object(O.a)(u,2),p=m[0],f=m[1],b=Object(l.useState)(a),h=Object(O.a)(b,2),E=h[0],k=h[1],H=Object(l.useState)(0),A=Object(O.a)(H,2),M=A[0],D=A[1],L=Object(l.useState)(10),W=Object(O.a)(L,2),Y=W[0],R=W[1],V=Object(l.useState)({direction:"asc",id:null}),z=Object(O.a)(V,2),F=z[0],U=z[1],q=Object(l.useState)([]),_=Object(O.a)(q,2),J=(_[0],_[1]),K=r.a.useState({policyHolderName:"",policyHolderType:"",policyInformation:"",datePolicyIsWritten:new Date,datePolicyIsIssued:null,percentOfSaleCredit:"",typeOfProduct:"",user:"",policyType:[],policyPremium:"",sourceOfBusiness:"",adjustments:"",dollarBonus:"",typeValidation:!1,policyHolderTypeValidation:!1,percentOfSaleCreditValidation:!1,typeOfProductValidation:!1,policyPremiumValidation:!1,userValidation:!1}),$=Object(O.a)(K,2);function G(e,t){var a=t,n="desc";F.id===t&&"desc"===F.direction&&(n="asc"),U({direction:n,id:a})}function X(e){e.target.checked?f(E.map((function(e){return e.id}))):f([])}function ne(){f([])}return $[0],$[1],Object(l.useEffect)((function(){t(Object(g.b)()).then((function(){return d(!1)})),t(Object(B.b)()),t(Object(T.b)())}),[t]),Object(l.useEffect)((function(){0!==c.length?(console.log(c),k(w.a.filter(a,(function(e){return e.policyHolderName.toLowerCase().includes(c.toLowerCase())}))),D(0)):k(a)}),[a,c]),Object(l.useEffect)((function(){var e=[];n.length>0&&(n.map((function(t){e.push({item:t.data.displayName,value:t.id})})),e.push({item:"Office Count",value:"OfficeCount"}),J(e))}),[n]),s?r.a.createElement(S.a,null):0===E.length?r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(te.a,{utils:ee.a},r.a.createElement(P.a,{className:"flex-grow overflow-x-auto"},r.a.createElement(N.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle"},r.a.createElement(Q,{selectedProductIds:p,order:F,onSelectAllClick:X,onRequestSort:G,rowCount:E.length,onMenuItemClick:ne}))))):r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(te.a,{utils:ee.a},r.a.createElement(P.a,{className:"flex-grow overflow-x-auto"},r.a.createElement(N.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",size:"small"},r.a.createElement(Q,{selectedProductIds:p,order:F,onSelectAllClick:X,onRequestSort:G,rowCount:E.length,onMenuItemClick:ne}),r.a.createElement(x.a,null,w.a.orderBy(E,[function(e){return e.datePolicyIsWritten}],["desc"]).slice(M*Y,M*Y+Y).map((function(a){var c=-1!==p.indexOf(a.id);return r.a.createElement(v.a,{className:Object.keys(a).includes("policies")&&1===a.policies.length&&"household"===a.policyHolderType?"h-48 cursor-pointer bg-gray-600":"h-48 cursor-pointer",hover:!0,role:"checkbox","aria-checked":c,tabIndex:-1,key:a.id,selected:c,onClick:function(n){return c=a,e.history.push("/apps/enter-sales/entry/edit"),void t(Object(g.f)({id:c.id,policyHolderName:c.policyHolderName,policyInformation:c.policyInformation,datePolicyIsWritten:c.datePolicyIsWritten,datePolicyIsIssued:c.datePolicyIsIssued,percentOfSaleCredit:c.percentOfSaleCredit,typeOfProduct:c.typeOfProduct,policyPremium:c.policyPremium,sourceOfBusiness:c.sourceOfBusiness,adjustments:c.adjustments,dollarBonus:c.dollarBonus,policyHolderType:c.policyHolderType,policyType:c.policyType,typeOfProductFire:c.typeOfProductFire,typeOfProductHealth:c.typeOfProductHealth,typeOfProductLife:c.typeOfProductLife,typeOfProductBank:c.typeOfProductBank,creditPercent:c.creditPercent,creditType:c.creditType,creditUser:c.creditUser,policies:c.policies,previousPolicyNumber:c.previousPolicyNumber,user:c.user}));var c}},r.a.createElement(C.a,{className:"w-40 md:w-64 text-center",padding:"none"},r.a.createElement(j.a,{checked:c,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,t){var a=p.indexOf(t),n=[];-1===a?n=n.concat(p,t):0===a?n=n.concat(p.slice(1)):a===p.length-1?n=n.concat(p.slice(0,-1)):a>0&&(n=n.concat(p.slice(0,a),p.slice(a+1))),f(n)}(0,a.id)}})),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},a.policyHolderName),r.a.createElement(C.a,{className:"p-2 md:p-2 truncate",component:"th",scope:"row",align:"center"},a.policyInformation),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},Z()(a.datePolicyIsWritten).format("MM/DD/YYYY")),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},Z()(a.datePolicyIsIssued).format("MM/DD/YYYY")),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},a.creditPercent,"%"),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},"Entries"===a.policyType[0]&&a.typeOfProduct,"FireEntries"===a.policyType[0]&&a.typeOfProductFire,"HealthEntries"===a.policyType[0]&&a.typeOfProductHealth,"LifeEntries"===a.policyType[0]&&a.typeOfProductLife,"BankEntries"===a.policyType[0]&&a.typeOfProductBank),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},"object"===typeof a.user?a.user.data.displayName:n.map((function(e){return e.id===a.sellerId&&e.data.displayName}))),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},"Entries"===a.policyType[0]?"AutoEntries":a.policyType[0]),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},"$",a.policyPremium),r.a.createElement(C.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},a.sourceOfBusiness),r.a.createElement(C.a,{className:"p-2 md:p-2 bg-indigo-200",component:"th",scope:"row",align:"center"},a.dollarBonus?"$".concat(a.dollarBonus):""))}))))),r.a.createElement(I.a,{className:"flex-shrink-0 border-t-1",component:"div",count:E.length,rowsPerPage:Y,page:M,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){D(t)},onChangeRowsPerPage:function(e){R(e.target.value)}})))}));t.default=Object(c.a)("eCommerceApp",o.a)((function(){return r.a.createElement(n.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:r.a.createElement(E,null),content:r.a.createElement(ne,null),innerScroll:!0})}))}}]);