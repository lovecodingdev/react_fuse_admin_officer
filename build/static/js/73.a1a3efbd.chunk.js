(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[73],{1281:function(e,t,a){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}a.d(t,"a",(function(){return n}))},1293:function(e,t,a){"use strict";var n=a(6),l=a(13),r=a(0),c=a.n(r),o=a(8),i=a(9),s=a(4),u=a(40),d=a(1334),b=a(1337),m=a(1331),p=a(1335),f=a(1336),v=a(2624),g=a(1245),y=a(1521),O=a(1261),j=a(159),h=a(1236),T=a(649),P=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},spin:{"& input::-webkit-clear-button, & input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{display:"none"}}}}));var w=function(e){var t=P(),a=e.id,n=e.key,l=e.type,r=e.value,o=e.onChange,i=e.size,s=e.readOnly,u=e.startAdornment,d=e.endAdornment,b=e.inputProps;return c.a.createElement(T.a,{id:a,key:n,className:(t.margin,t.spin),value:r,onChange:o,type:l,size:i,readOnly:s,startAdornment:u,endAdornment:d,inputProps:b})},A=a(1291);t.a=c.a.memo((function(e){Object(o.c)();var t=Object(r.useState)(0),a=Object(l.a)(t,2),h=a[0],T=a[1],P=Object(r.useState)(20),E=Object(l.a)(P,2),_=E[0],S=E[1],N=Object(r.useState)({direction:"asc",id:null}),B=Object(l.a)(N,2),x=B[0],k=B[1],F=e.data.table.tableContent,I=e.data.table.headers,R=e.data.table.rows,C=e.data.table.columns,G=[];return e.sortable&&R.map((function(e,t){G.push(Object(n.a)({},F[e.value]))})),c.a.createElement("div",{className:"flex flex-col min-h-full sm:border-1 sm:rounded-8 overflow-hidden w-full"},""!==e.data.title&&c.a.createElement("div",{className:"flex items-center justify-between px-16 py-16 border-b-1"},c.a.createElement(j.a,{className:"text-16"},e.data.title)),c.a.createElement(u.a,{className:"flex-growNum overflow-x-auto"},c.a.createElement(d.a,{stickyHeader:!0,className:"min-w-full",size:"small","aria-labelledby":"tableTitle"},c.a.createElement(p.a,null,c.a.createElement(f.a,null,C.map((function(e,t){switch(e.id){case"avatar":return c.a.createElement(m.a,{key:e.id,rowSpan:e.rowSpan,align:e.align,className:Object(s.default)("whitespace-wrap p-0 text-xs p-12 border-r-1")},e.title);default:return c.a.createElement(m.a,{key:e.id,colSpan:e.colSpan,rowSpan:e.rowSpan,align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\t\t\twhitespace-wrap p-0 text-xs p-12 \n\t\t\t\t\t\t\t\t\t\t\t\t\t".concat(t===C.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.color,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.border,"\n\t\t\t\t\t\t\t\t\t\t\t\t"))},e.title)}}))),c.a.createElement(f.a,null,I.map((function(t,a){return c.a.createElement(m.a,{key:t.id,component:"th",scope:"rowNum",align:"center",sortDirection:x.id===t.id&&x.direction,className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tw-md p-0 text-xs p-4 \n\t\t\t\t\t\t\t\t\t\t\t".concat(a===I.length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(t.color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&I[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},e.sortable&&c.a.createElement(g.a,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300},c.a.createElement(v.a,{active:x.id===t.id,direction:x.direction,onClick:(n=t.id,function(e){var t=n,a="desc";x.id===n&&"desc"===x.direction&&(a="asc"),k({direction:a,id:t})})},t.value.substring(t.value.indexOf("@")+1))),!e.sortable&&t.value.substring(t.value.indexOf("@")+1));var n})))),c.a.createElement(b.a,null,!e.sortable&&!i.a.isEmpty(F)&&Object.keys(F).map((function(t,a){return c.a.createElement(f.a,{className:"h-32",key:a},!e.hideLeftHeader&&c.a.createElement(m.a,{key:a,component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t\t".concat(R.length>0&&R[a].color,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(R.length>0&&R[a].border,"\n\t\t\t\t\t\t\t\t\t\t"))},t),Object.keys(F[t]).map((function(n,l){return"id"!==n&&"type"!==n&&"month"!==n&&c.a.createElement(m.a,{key:"colKey_".concat(a,"_").concat(l),component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(l===Object.keys(F[t]).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(R.length>0&&R[a].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0===C.length&&I[l+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0!==C.length&&I[l].border,"\n\t\t\t\t\t\t\t\t\t\t"))},!e.editable&&0===C.length&&I.length>0&&Object(A.e)(F[t][I[l+1].value]),!e.editable&&0!==C.length&&I.length>0&&Object(A.e)(F[t][I[l].value]),e.editable&&c.a.createElement(w,{id:"contact phone number",key:"input_".concat(a,"_").concat(l),type:"number",value:Object(A.e)(F[t][n]),onChange:function(r){return function(t,a,n,l,r,c){e.onInputChange({tableName:t,row:a,col:n,rowKey:l,colKey:r,value:c})}(e.tableName,a,l,t,n,r.target.value)},size:"small",readOnly:!1,startAdornment:c.a.createElement(O.a,{position:"start"},e.startAdornment),endAdornment:c.a.createElement(O.a,{position:"start"},e.endAdornment),inputProps:{"aria-label":"naked"}}))})))})),e.sortable&&i.a.orderBy(G,[function(e){switch(x.id){case"categories":return e.categories[0];default:return e[x.id]}}],[x.direction]).slice(h*_,h*_+_).map((function(e,t){return c.a.createElement(f.a,{className:"h-32",key:t},c.a.createElement(m.a,{key:t,component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate border-r-1 \n\t\t\t\t\t\t\t\t\t\t".concat(R.length>0&&R[t].color,"\n\t\t\t\t\t\t\t\t\t\t").concat(R.length>0&&R[t].border,"\n\t\t\t\t\t\t\t\t\t"))},t+1),Object.keys(e).map((function(a,n){return"id"!==a&&"type"!==a&&"month"!==a&&c.a.createElement(m.a,{key:"colKey_".concat(t,"_").concat(n),component:"th",scope:"rowNum",align:"center",className:Object(s.default)("\n\t\t\t\t\t\t\t\t\t\t\tp-0 text-xs truncate \n\t\t\t\t\t\t\t\t\t\t\t".concat(n===Object.keys(e).length-1?"border-r-0":"border-r-1"," \n\t\t\t\t\t\t\t\t\t\t\t").concat(R.length>0&&e.border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0===C.length&&I[n+1].border,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(I.length>0&&0!==C.length&&I[n].border,"\n\t\t\t\t\t\t\t\t\t\t"))},0===C.length&&I.length>0&&Object(A.e)(e[a]))})))}))))),e.sortable&&c.a.createElement(y.a,{className:"flex-shrink-0 border-t-1",component:"div",count:G.length,rowsPerPage:_,page:h,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){T(t)},onChangeRowsPerPage:function(e){S(e.target.value)}}))}))},1314:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return m}));var n=a(33),l=a(14),r=a.n(l),c=a(30),o=a(25),i=a(46),s=a.n(i),u=Object(o.b)("agencyApp/widgets/getWidgets",Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/api/agency-app/widgets");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))),d=Object(o.c)({}),b=d.getSelectors((function(e){return e.agencyApp.widgets})),m=b.selectEntities,p=(b.selectById,Object(o.d)({name:"agencyApp/widgets",initialState:d.getInitialState(),reducers:{},extraReducers:Object(n.a)({},u.fulfilled,d.setAll)}));t.a=p.reducer},1315:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return b}));var n=a(1281),l=a(33),r=a(25),c=(a(46),a(17)),o=localStorage.getItem("@BELONGTO"),i=localStorage.getItem("@UID"),s=Object(r.b)("agencyApp/bonusPlans/getBonusPlans",(function(e){return new Promise((function(e,t){c.b.ref("BonusPlan/".concat(o,"/").concat(i,"/")).on("value",(function(t){var a=t.val();a?c.b.ref("BonusPlanTemplate/".concat(o,"/").concat(a.name)).on("value",(function(t){var a=t.val();e(a?[a]:[])})):e([])}))}))})),u=Object(r.c)({}),d=u.getSelectors((function(e){return e.agencyApp.bonusPlans})),b=d.selectAll,m=(d.selectById,Object(r.d)({name:"agencyApp/bonusPlans",initialState:u.getInitialState({searchText:""}),reducers:{},extraReducers:Object(l.a)({},s.fulfilled,u.setAll)}));Object(n.a)(m.actions),t.a=m.reducer},1316:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return d}));var n=a(1281),l=a(33),r=a(25),c=(a(46),a(17)),o=localStorage.getItem("@BELONGTO"),i=Object(r.b)("agencyApp/entries/getEntries",(function(e){return new Promise((function(t,a){var n=c.b.ref("Sales/".concat(e,"/").concat(o,"/")),l=[];n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(e){l.push(a[e])})),t(a?[a]:[])}))}))})),s=Object(r.c)({}),u=s.getSelectors((function(e){return e.agencyApp.entries})),d=u.selectAll,b=(u.selectById,Object(r.d)({name:"agencyApp/entries",initialState:s.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,s.setAll)}));Object(n.a)(b.actions),t.a=b.reducer},1317:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s}));var n=a(33),l=a(25),r=(a(46),a(17)),c=Object(l.b)("agencyApp/users/getUsers",(function(){return new Promise((function(e,t){var a=r.b.ref("users/"),n=r.b.ref("agency/"),l=r.b.ref("admin/"),c=[];a.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){c.push(a[e])})),n.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){c.push(a[e])})),l.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){c.push(a[e])})),e(c)}))}))}))}))})),o=Object(l.c)({}),i=o.getSelectors((function(e){return e.agencyApp.users})),s=i.selectAll,u=(i.selectById,Object(l.d)({name:"agencyApp/users",initialState:o.getInitialState({production:""}),reducers:{setUser:{reducer:function(e,t){e.production=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:Object(n.a)({},c.fulfilled,o.setAll)}));u.actions.setUser;t.a=u.reducer},1322:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return d}));var n=a(1281),l=a(33),r=a(25),c=(a(46),a(17)),o=localStorage.getItem("@BELONGTO"),i=Object(r.b)("agencyApp/marketings/getMarketings",(function(){return new Promise((function(e,t){var a=c.b.ref("Marketing/".concat(o,"/")),n=[];a.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){n.push(a[e])})),e(n)}))}))})),s=Object(r.c)({}),u=s.getSelectors((function(e){return e.agencyApp.marketings})),d=u.selectAll,b=(u.selectById,Object(r.d)({name:"agencyApp/marketings",initialState:s.getInitialState({searchText:""}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,s.setAll)}));Object(n.a)(b.actions),t.a=b.reducer},1323:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return d}));var n=a(1281),l=a(33),r=a(25),c=(a(46),a(17)),o=localStorage.getItem("@BELONGTO"),i=(localStorage.getItem("@UID"),Object(r.b)("agencyApp/vision/getVision",(function(e){return new Promise((function(t,a){c.b.ref("Vision/".concat(e,"/").concat(o,"/")).on("value",(function(e){var a=e.val();if(a)return t([a]);t([])}))}))}))),s=Object(r.c)({}),u=s.getSelectors((function(e){return e.agencyApp.vision})),d=u.selectAll,b=(u.selectById,Object(r.d)({name:"agencyApp/vision",initialState:s.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,s.setAll)}));Object(n.a)(b.actions),t.a=b.reducer},1343:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return d}));var n=a(1281),l=a(33),r=a(25),c=(a(46),a(17)),o=localStorage.getItem("@BELONGTO"),i=Object(r.b)("agencyApp/lapseRate/getLapseRate",(function(e){return new Promise((function(t,a){var n=c.b.ref("LapseRateReport/".concat(o,"/").concat(e,"/")),l=[];n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(e){l.push(a[e])})),t(a?[a]:[])}))}))})),s=Object(r.c)({}),u=s.getSelectors((function(e){return e.agencyApp.lapseRate})),d=u.selectAll,b=(u.selectById,Object(r.d)({name:"agencyApp/lapseRate",initialState:s.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,s.setAll)}));Object(n.a)(b.actions),t.a=b.reducer},1344:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return d}));var n=a(1281),l=a(33),r=a(25),c=(a(46),a(17)),o=localStorage.getItem("@BELONGTO"),i=Object(r.b)("agencyApp/policyGrowth/getPolicyGrowth",(function(e){return new Promise((function(t,a){var n=c.b.ref("PolicyGrowthReport/".concat(e,"/").concat(o,"/")),l=[];n.on("value",(function(e){var a=e.val();a&&Object.keys(a).map((function(e){l.push(a[e])})),t(a?[a]:[])}))}))})),s=Object(r.c)({}),u=s.getSelectors((function(e){return e.agencyApp.policyGrowth})),d=u.selectAll,b=(u.selectById,Object(r.d)({name:"agencyApp/policyGrowth",initialState:s.getInitialState({}),reducers:{},extraReducers:Object(l.a)({},i.fulfilled,s.setAll)}));Object(n.a)(b.actions),t.a=b.reducer},1351:function(e,t,a){"use strict";var n=a(85),l=a(1314),r=a(1315),c=a(1343),o=a(1344),i=a(1316),s=a(1322),u=a(1317),d=a(1323),b=Object(n.c)({widgets:l.a,users:u.a,bonusPlans:r.a,lapseRate:c.a,policyGrowth:o.a,entries:i.a,marketings:s.a,vision:d.a});t.a=b},1407:function(e,t,a){"use strict";var n=a(215),l=a(1334),r=a(1337),c=a(1331),o=a(1335),i=a(1336),s=a(159),u=a(4),d=a(0),b=a.n(d),m=a(1291);t.a=b.a.memo((function(e){return b.a.createElement(n.a,{className:"w-full rounded-8 shadow"},b.a.createElement("div",{className:"flex items-center justify-between px-16 h-64 border-b-1"},b.a.createElement(s.a,{className:"text-16"},e.data.title)),b.a.createElement("div",{className:"table-responsive"},b.a.createElement(l.a,{className:"w-full min-w-full"},b.a.createElement(o.a,null,b.a.createElement(i.a,null,e.data.table.columns.map((function(e){return b.a.createElement(c.a,{key:e.id,className:"whitespace-nowrap",align:"center"},e.title)})))),b.a.createElement(r.a,null,e.data.table.rows.map((function(e){return b.a.createElement(i.a,{key:e.id},e.cells.map((function(e){switch(e.id){case"left_title":return b.a.createElement(c.a,{key:e.id,component:"th",scope:"row"},b.a.createElement(s.a,{className:Object(u.default)(e.classes,"inline text-11 font-500 px-8 py-4 rounded-4")},0===e.value?"":e.value));case"total":return b.a.createElement(c.a,{key:e.id,rowSpan:5,className:"border-l-1",align:"center"},Object(m.e)(e.value));default:return b.a.createElement(c.a,{key:e.id,component:"th",scope:"row",align:"center"},b.a.createElement(s.a,{className:e.classes},Object(m.e)(e.value)))}})))}))))))}))},2419:function(e,t,a){"use strict";a.r(t);var n=a(6),l=a(13),r=a(0),c=a.n(r),o=a(8),i=a(113),s=a.n(i),u=a(93),d=a(161),b=(a(181),a(1284)),m=a(2412),p=a(2610),f=a(159),v=a(431),g=a(247),y=a(9),O=a(1351),j=a(1293),h=(a(1407),a(1310),a(1311),a(1312)),T=a(1313),P=a(1314),w=a(1317),A=a(1315),E=a(1343),_=a(1344),S=a(1316),N=a(1309),B=a(1291),x=(localStorage.getItem("@BELONGTO"),localStorage.getItem("@UID"));t.default=Object(g.a)("agencyApp",O.a)((function(e){var t=Object(o.c)(),a=Object(o.d)(P.c),i=Object(o.d)(w.c),g=Object(o.d)(A.c),O=Object(o.d)(E.c),k=Object(o.d)(_.c),F=Object(o.d)(S.c),I=Object(r.useState)(!0),R=Object(l.a)(I,2),C=R[0],G=R[1],L=Object(r.useState)({}),U=Object(l.a)(L,2),Y=U[0],M=U[1],D=Object(r.useState)({}),z=Object(l.a)(D,2),K=z[0],W=z[1],H=Object(r.useState)("Show Written Production"),J=Object(l.a)(H,2),V=J[0],q=J[1],Q=Object(r.useState)("Include Initial Bonus in Calculation"),X=Object(l.a)(Q,2),Z=(X[0],X[1],Object(r.useState)(x)),$=Object(l.a)(Z,2),ee=($[0],$[1],Object(r.useState)([])),te=Object(l.a)(ee,2),ae=(te[0],te[1],Object(r.useState)(s()().format("yyyy"))),ne=Object(l.a)(ae,2),le=ne[0],re=(ne[1],Object(r.useState)(s()().format("MMMM"))),ce=Object(l.a)(re,2),oe=ce[0],ie=ce[1],se=Object(r.useState)(0),ue=Object(l.a)(se,2),de=ue[0],be=ue[1],me=Object(r.useState)("Payroll"),pe=Object(l.a)(me,2),fe=pe[0];return pe[1],Object(r.useEffect)((function(){t(Object(w.b)()),t(Object(A.b)()),t(Object(E.b)(le)),t(Object(_.b)(le)),t(Object(S.b)(le)),t(Object(P.b)()).then((function(){return G(!1)}))}),[t]),Object(r.useEffect)((function(){if(i.length>0&&F.length>0){var e=Object(B.g)(F,g,[],i,[],O,k);W(e)}}),[F,g,i,O,k]),Object(r.useEffect)((function(){if(!y.a.isEmpty(a)&&!y.a.isEmpty(K)){if(a.Agency_Payroll_Table){var e=[{id:"Total",value:"Total",color:"",border:"border-b-4"}],t={Total:{}},l=a.Agency_Payroll_Table.table.headers;i.map((function(a,n){if(a.belongTo===x){e.push({id:a.data.displayName,value:a.data.displayName,color:"",border:""});var r=0,c=0;t[a.data.displayName]={},l.map((function(e,n){var l=0;if("Producer"!==e.value){if(t.Total.hasOwnProperty(e.value)||(t.Total[e.value]=0),n<9)l=K[V][oe][a.id][e.value.split(" ")[0]][e.value.split(" ")[1]];else if("Individual Target Bonuses"===e.value||"Team Target Bonuses"===e.value){if(g.length>0){var o=0,i=0;N.k.map((function(e){if("Total"!==e.value){var t=K[V][oe][a.id][e.value].Policies;o+=parseFloat((K[V][oe][a.id].Auto.Premium/2+K[V][oe][a.id].Fire.Premium)*Object(B.f)(t,e.value,g).amount/100),i+=parseFloat(Object(B.f)(t,"Team".concat(e.value),g).amount)}})),"Individual Target Bonuses"===e.value?l=o:"Team Target Bonuses"===e.value&&(l=i)}}else"Lapse Rate % Bonus"===e.value?l=parseFloat(K[V][oe][a.id].Auto.lapseBonus)+parseFloat(K[V][oe][a.id].Fire.lapseBonus):"Policy Growth Bonuses"===e.value?l=parseFloat(K[V][oe][a.id].Auto.growthBonus)+parseFloat(K[V][oe][a.id].Fire.growthBonus):"Special Promotion"===e.value&&(l=parseFloat(K[V][oe][a.id].Auto.specialPromotion)+parseFloat(K[V][oe][a.id].Fire.specialPromotion));r+=n<9&&n%2===1&&parseFloat(l),c+=n>0&&n<9&&n%2===0&&parseFloat(l),c+=n>11&&n<18&&parseFloat(l),t[a.data.displayName][e.value]=l,t.Total[e.value]+=t[a.data.displayName][e.value]}})),t[a.data.displayName]["Total Policies"]=r,t[a.data.displayName]["Total Bonuses"]=c,t.Total["Total Policies"]=t[a.data.displayName]["Total Policies"],t.Total["Total Bonuses"]=t[a.data.displayName]["Total Bonuses"]}})),a=Object(n.a)(Object(n.a)({},a),{},{Agency_Payroll_Table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Table.table),{},{rows:e})})}),a=Object(n.a)(Object(n.a)({},a),{},{Agency_Payroll_Table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Table.table),{},{tableContent:t})})})}if(a.Agency_Payroll_Yearly_Table){var r=[{id:"Total",value:"Total",color:"",border:"border-b-4"}],c={Total:{}},o=a.Agency_Payroll_Table.table.headers;i.map((function(e,t){if(e.belongTo===x){r.push({id:e.data.displayName,value:e.data.displayName,color:"",border:""});var a=0,n=0;c[e.data.displayName]={},o.map((function(t,l){var r=0;"Producer"!==t.value&&(c.Total.hasOwnProperty(t.value)||(c.Total[t.value]=0),N.h.map((function(a){if(l<9)r+=parseFloat(K[V][a.value][e.id][t.value.split(" ")[0]][t.value.split(" ")[1]]);else if("Individual Target Bonuses"===t.value||"Team Target Bonuses"===t.value){if(g.length>0){var n=0,c=0;N.k.map((function(t){if("Total"!==t.value){var l=K[V][a.value][e.id][t.value].Policies;n+=parseFloat((K[V][a.value][e.id].Auto.Premium/2+K[V][a.value][e.id].Fire.Premium)*Object(B.f)(l,t.value,g).amount/100),c+=parseFloat(Object(B.f)(l,"Team".concat(t.value),g).amount)}})),"Individual Target Bonuses"===t.value?r+=n:"Team Target Bonuses"===t.value&&(r+=c)}}else"Lapse Rate % Bonus"===t.value?r+=parseFloat(K[V][a.value][e.id].Auto.lapseBonus)+parseFloat(K[V][a.value][e.id].Fire.lapseBonus):"Policy Growth Bonuses"===t.value?r+=parseFloat(K[V][a.value][e.id].Auto.growthBonus)+parseFloat(K[V][a.value][e.id].Fire.growthBonus):"Special Promotion"===t.value&&(r+=parseFloat(K[V][a.value][e.id].Auto.specialPromotion)+parseFloat(K[V][a.value][e.id].Fire.specialPromotion))})),a+=l<9&&l%2===1&&parseFloat(r),n+=l>0&&l<9&&l%2===0&&parseFloat(r),n+=l>11&&l<17&&parseFloat(r),c[e.data.displayName][t.value]=r,c.Total[t.value]+=c[e.data.displayName][t.value])})),c[e.data.displayName]["Total Policies"]=a,c[e.data.displayName]["Total Bonuses"]=n,c.Total["Total Policies"]+=c[e.data.displayName]["Total Policies"],c.Total["Total Bonuses"]+=c[e.data.displayName]["Total Bonuses"]}})),a=Object(n.a)(Object(n.a)({},a),{},{Agency_Payroll_Yearly_Table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Yearly_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Yearly_Table.table),{},{rows:r})})}),a=Object(n.a)(Object(n.a)({},a),{},{Agency_Payroll_Yearly_Table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Yearly_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Yearly_Table.table),{},{tableContent:c})})})}if(a.Agency_Payroll_Summary_Table){var s=[{id:"Total",value:"Total",color:"",border:"border-b-4"}],u={Total:{}},d=a.Agency_Payroll_Summary_Table.table.headers;N.h.map((function(e,t){s.push({id:e.value,value:e.value,color:"",border:""});var a=0,n=0;u[e.value]={},d.map((function(t,l){var r=0;"Producer"!==t.value&&(u.Total.hasOwnProperty(t.value)||(u.Total[t.value]=0),i.map((function(a){if(a.belongTo===x)if(l<9)r+=parseFloat(K[V][e.value][a.id][t.value.split(" ")[0]][t.value.split(" ")[1]]);else if("Individual Target Bonuses"===t.value||"Team Target Bonuses"===t.value){if(g.length>0){var n=0,c=0;N.k.map((function(t){if("Total"!==t.value){var l=K[V][e.value][a.id][t.value].Policies;n+=parseFloat((K[V][e.value][a.id].Auto.Premium/2+K[V][e.value][a.id].Fire.Premium)*Object(B.f)(l,t.value,g).amount/100),c+=parseFloat(Object(B.f)(l,"Team".concat(t.value),g).amount)}})),"Individual Target Bonuses"===t.value?r+=n:"Team Target Bonuses"===t.value&&(r+=c)}}else"Lapse Rate % Bonus"===t.value?r+=parseFloat(K[V][e.value][a.id].Auto.lapseBonus)+parseFloat(K[V][e.value][a.id].Fire.lapseBonus):"Policy Growth Bonuses"===t.value?r+=parseFloat(K[V][e.value][a.id].Auto.growthBonus)+parseFloat(K[V][e.value][a.id].Fire.growthBonus):"Special Promotion"===t.value&&(r+=parseFloat(K[V][e.value][a.id].Auto.specialPromotion)+parseFloat(K[V][e.value][a.id].Fire.specialPromotion))})),a+=l<9&&l%2===1&&parseFloat(r),n+=l>0&&l<9&&l%2===0&&parseFloat(r),n+=l>11&&l<17&&parseFloat(r),u[e.value][t.value]=r,u.Total[t.value]+=u[e.value][t.value])})),u[e.value]["Total Policies"]=a,u[e.value]["Total Bonuses"]=n,u.Total["Total Policies"]+=u[e.value]["Total Policies"],u.Total["Total Bonuses"]+=u[e.value]["Total Bonuses"]})),a=Object(n.a)(Object(n.a)({},a),{},{Agency_Payroll_Summary_Table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Summary_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Summary_Table.table),{},{rows:s})})}),a=Object(n.a)(Object(n.a)({},a),{},{Agency_Payroll_Summary_Table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Summary_Table),{},{table:Object(n.a)(Object(n.a)({},a.Agency_Payroll_Summary_Table.table),{},{tableContent:u})})})}}console.log("---------widgets",a),M({widgets:a})}),[a,K,V,oe]),C?c.a.createElement(v.a,null):0===Y.length?c.a.createElement(u.a,{delay:100},c.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},c.a.createElement(f.a,{color:"textSecondary",variant:"h5"},"There are no data!"))):c.a.createElement(b.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:c.a.createElement(T.a,{title:fe},0===de&&c.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},c.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},c.a.createElement(h.a,{value:oe,onChange:function(e){ie(e.target.value)},label:"Report Period",data:N.a.period.data}))),c.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},c.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},c.a.createElement(h.a,{value:V,onChange:function(e){q(e.target.value)},label:"Production",data:N.a.production.data})))),contentToolbar:c.a.createElement(p.a,{value:de,onChange:function(e,t){be(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},c.a.createElement(m.a,{className:"h-64 normal-case",label:"Month Report"}),c.a.createElement(m.a,{className:"h-64 normal-case",label:"Year Totals"}),c.a.createElement(m.a,{className:"h-64 normal-case",label:"Summary Report"})),content:c.a.createElement("div",{className:"w-full p-12"},c.a.createElement(d.a,{className:"flex flex-wrap",enter:{animation:"transition.slideUpBigIn"}},0===de&&c.a.createElement("div",{className:"p-12"},c.a.createElement(j.a,{data:Y.widgets.Agency_Payroll_Table})),1===de&&c.a.createElement("div",{className:"p-12"},c.a.createElement(j.a,{data:Y.widgets.Agency_Payroll_Yearly_Table})),2===de&&c.a.createElement("div",{className:"p-12"},c.a.createElement(j.a,{data:Y.widgets.Agency_Payroll_Summary_Table})))),innerScroll:!0})}))}}]);