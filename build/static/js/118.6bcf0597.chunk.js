(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[118],{1284:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(33),r=a(40),l=a(1236),i=a(4),c=a(0),o=a.n(c),s=a(52),d=a(1246),u=a(34),m=a(8);var p=function(e){var t=Object(s.a)(),a=Object(m.d)(Object(u.c)(t.palette.primary.main));return o.a.createElement("div",{className:e.classes.header},e.header&&o.a.createElement(d.a,{theme:a},e.header))},b=a(13),g=a(111),f=a(1269),h=a(1273);var v=function(e){var t=Object(s.a)(),a=Object(m.d)(Object(u.c)(t.palette.primary.main)),n=e.classes;return o.a.createElement(o.a.Fragment,null,e.header&&o.a.createElement(d.a,{theme:a},o.a.createElement("div",{className:Object(i.default)(n.sidebarHeader,e.variant)},e.header)),e.content&&o.a.createElement(r.a,{className:n.sidebarContent,enable:e.innerScroll},e.content))};var E=o.a.forwardRef((function(e,t){var a=Object(c.useState)(!1),n=Object(b.a)(a,2),r=n[0],l=n[1],s=e.classes;Object(c.useImperativeHandle)(t,(function(){return{toggleSidebar:d}}));var d=function(){l(!r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{lgUp:"permanent"===e.variant},o.a.createElement(h.a,{variant:"temporary",anchor:e.position,open:r,onOpen:function(e){},onClose:function(e){return d()},disableSwipeToOpen:!0,classes:{root:Object(i.default)(s.sidebarWrapper,e.variant),paper:Object(i.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:s.backdrop}},style:{position:"absolute"}},o.a.createElement(v,e))),"permanent"===e.variant&&o.a.createElement(f.a,{mdDown:!0},o.a.createElement(g.a,{variant:"permanent",className:Object(i.default)(s.sidebarWrapper,e.variant),open:r,classes:{paper:Object(i.default)(s.sidebar,e.variant,"left"===e.position?s.leftSidebar:s.rightSidebar)}},o.a.createElement(v,e))))})),k=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"row",minHeight:"100%",position:"relative",flex:"1 0 auto",height:"auto",backgroundColor:e.palette.background.default},innerScroll:{flex:"1 1 auto",height:"100%"},topBg:{position:"absolute",left:0,right:0,top:0,height:200,background:"linear-gradient(to left, ".concat(e.palette.primary.dark," 0%, ").concat(e.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},contentWrapper:Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},e.breakpoints.down("xs"),{padding:"0 1.6rem"}),header:{height:136,minHeight:136,maxHeight:136,display:"flex",color:e.palette.primary.contrastText},headerSidebarToggleButton:{color:e.palette.primary.contrastText},contentCard:{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:e.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"8px 8px 0 0"},toolbar:{height:64,minHeight:64,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(e.palette.divider)},content:{flex:"1 1 auto",height:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"},sidebarWrapper:{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{zIndex:1,position:"relative"})},sidebar:{position:"absolute","&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:240,height:"100%"},leftSidebar:{},rightSidebar:{},sidebarHeader:{height:200,minHeight:200,color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark,"&.permanent":Object(n.a)({},e.breakpoints.up("lg"),{backgroundColor:"transparent"})},sidebarContent:Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:e.palette.background.default,color:e.palette.text.primary},e.breakpoints.up("lg"),{overflow:"auto","-webkit-overflow-scrolling":"touch"}),backdrop:{position:"absolute"}}})),O=o.a.forwardRef((function(e,t){var a=Object(c.useRef)(null),n=Object(c.useRef)(null),l=Object(c.useRef)(null),s=k(e),d=e.rightSidebarHeader||e.rightSidebarContent,u=e.leftSidebarHeader||e.leftSidebarContent;return o.a.useImperativeHandle(t,(function(){return{rootRef:l,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){n.current.toggleSidebar()}}})),o.a.createElement("div",{className:Object(i.default)(s.root,e.innerScroll&&s.innerScroll),ref:l},o.a.createElement("div",{className:s.topBg}),o.a.createElement("div",{className:"flex container w-full"},u&&o.a.createElement(E,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:a,rootRef:l}),o.a.createElement("div",{className:Object(i.default)(s.contentWrapper,u&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",d&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0")},o.a.createElement(p,{header:e.header,classes:s}),o.a.createElement("div",{className:Object(i.default)(s.contentCard,e.innerScroll&&"inner-scroll")},e.contentToolbar&&o.a.createElement("div",{className:s.toolbar},e.contentToolbar),e.content&&o.a.createElement(r.a,{className:s.content,enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll},e.content))),d&&o.a.createElement(E,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,classes:s,ref:n,rootRef:l})))}));O.defaultProps={};var j=o.a.memo(O)},1298:function(e,t,a){"use strict";var n=a(0),r=a(81);t.a=Object(r.a)(n.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1299:function(e,t,a){"use strict";var n=a(0),r=a(81);t.a=Object(r.a)(n.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1300:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(33),r=a(13),l=a(0),i=a.n(l),c=a(1236),o=a(1190),s=a(1240),d=a(1184),u=a(1193),m=Object(c.a)((function(e){return{formControl:{minWidth:120,width:200},selectEmpty:{marginTop:e.spacing(2)}}}));function p(e){var t=m(),a=i.a.useState(""),l=Object(r.a)(a,2),c=(l[0],l[1],e.id,e.data),p=(e.variant,e.value),b=e.handleChangeValue,g=e.validation,f=e.disabled,h=e.willvalidation,v=e.validate,E=e.size;return i.a.createElement(d.a,{variant:"outlined",className:t.formControl,size:"small",error:!!v},i.a.createElement(o.a,{id:"demo-simple-select-outlined-label"},e.label),i.a.createElement(u.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:function(e){var t,a;h?e.target.value?b((t={},Object(n.a)(t,g,e.target.value),Object(n.a)(t,"".concat(g,"Validation"),!1),t)):b((a={},Object(n.a)(a,g,e.target.value),Object(n.a)(a,"".concat(g,"Validation"),!0),a)):b(Object(n.a)({},g,e.target.value))},label:e.label,InputProps:E&&{style:{width:E}},disabled:f||!1},c.length>0&&c.map((function(e,t){return i.a.createElement(s.a,{value:e.value,key:t},e.item)}))))}},1346:function(e,t,a){"use strict";var n=a(33),r=a(0),l=a.n(r),i=a(1258),c=a(1261);t.a=function(e){var t=e.id,a=e.label,r=e.variant,o=e.value,s=e.onChange,d=e.validation,u=e.type,m=e.willvalidation,p=e.validate,b=e.size,g=e.rows;return l.a.createElement(i.a,{id:t,error:!!p,label:a,variant:r,rows:g||1,value:o,onChange:function(e){var t,a;m?e.target.value?s((t={},Object(n.a)(t,d,e.target.value),Object(n.a)(t,"".concat(d,"Validation"),!1),t)):s((a={},Object(n.a)(a,d,e.target.value),Object(n.a)(a,"".concat(d,"Validation"),!0),a)):s(Object(n.a)({},d,e.target.value))},type:"percent"===u?"number":"text",size:"small",multiline:!0,name:d,InputProps:b?{style:{width:b},endAdornment:"percent"===u?l.a.createElement(c.a,{position:"end"},"%"):l.a.createElement(l.a.Fragment,null)}:{style:{width:120},endAdornment:"percent"===u?l.a.createElement(c.a,{position:"end"},"%"):l.a.createElement(l.a.Fragment,null)}})}},1347:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(33),r=a(182),l=a(0),i=a.n(l),c=a(1383),o=a(1236),s=a(1258),d=Object(o.a)((function(e){return{root:{"& > *":{}}}}));function u(e){var t=e.inputRef,a=e.onChange,n=Object(r.a)(e,["inputRef","onChange"]);return i.a.createElement(c.a,Object.assign({},n,{getInputRef:t,onValueChange:function(t){a({target:{name:e.name,value:t.value}})},thousandSeparator:!0,isNumericString:!0,prefix:"$"}))}function m(e){e.id;var t=e.label,a=(e.variant,e.value),r=e.handleChangeValue,l=e.validation,c=e.size,o=e.willvalidation,m=e.validate,p=d();return i.a.createElement("div",{className:p.root},i.a.createElement(s.a,{error:!!m,value:a,label:t,onChange:function(e){var t,a;o?e.target.value?r((t={},Object(n.a)(t,l,e.target.value),Object(n.a)(t,"".concat(l,"Validation"),!1),t)):r((a={},Object(n.a)(a,l,e.target.value),Object(n.a)(a,"".concat(l,"Validation"),!0),a)):r(Object(n.a)({},l,e.target.value))},name:l,variant:"outlined",id:"formatted-numberformat-input",size:"small",InputProps:c?{style:{width:c},inputComponent:u}:{style:{width:120},inputComponent:u}}))}},2612:function(e,t,a){"use strict";a.r(t);var n=a(1284),r=a(247),l=a(0),i=a.n(l),c=a(85),o=a(33),s=a(14),d=a.n(s),u=a(30),m=a(25),p=a(46),b=a.n(p),g=a(17),f=localStorage.getItem("@BELONGTO"),h=Object(m.b)("marketing/marketing/getMarketings",(function(){return new Promise((function(e,t){var a=g.b.ref("Marketing/".concat(f,"/")),n=[];a.on("value",(function(t){var a=t.val();a&&Object.keys(a).map((function(e){n.push(a[e])})),e(n)}))}))})),v=Object(m.b)("marketing/marketing/saveMarketing",function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,a.getState,e.next=3,b.a.post("/api/setup/marketing/product/save",t);case 3:return r=e.sent,e.next=6,r.data;case 6:return l=e.sent,n(h()),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),E=Object(m.b)("marketing/marketing/removeMarketing",function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,a.getState,e.next=3,b.a.post("/api/setup/marketing/product/remove-products",{productIds:t});case 3:return r=e.sent,e.next=6,r.data;case 6:return l=e.sent,t.map((function(e){g.b.ref("Marketing/".concat(f,"/").concat(e)).remove()})),n(h()),e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),k=Object(m.c)({}),O=k.getSelectors((function(e){return e.marketing.marketing})),j=O.selectAll,x=(O.selectById,Object(m.d)({name:"marketing/marketing",initialState:k.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:Object(o.a)({},h.fulfilled,k.setAll)})),w=x.actions.setProductsSearchText,S=x.reducer,N=Object(c.c)({marketing:S}),C=a(93),y=a(1238),P=a(648),I=a(215),R=a(1246),V=a(159),T=a(8),z=a(34);var H=function(e){var t=Object(T.c)(),a=Object(T.d)((function(e){return e.marketing.marketing.searchText})),n=Object(T.d)(z.e);return i.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},i.a.createElement("div",{className:"flex items-center"},i.a.createElement(C.a,{animation:"transition.expandIn",delay:300},i.a.createElement(y.a,{className:"text-32"},"meeting_room")),i.a.createElement(C.a,{animation:"transition.slideLeftIn",delay:300},i.a.createElement(V.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Marketing Source"))),i.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},i.a.createElement(R.a,{theme:n},i.a.createElement(C.a,{animation:"transition.slideDownIn",delay:300},i.a.createElement(I.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8 shadow"},i.a.createElement(y.a,{color:"action"},"search"),i.a.createElement(P.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(w(e))}}))))))},M=a(6),B=a(13),A=a(40),W=a(9),D=a(1268),L=a(1334),F=a(1337),q=a(1331),J=a(1521),K=a(1336),U=a(53),_=a(431),G=(a(437),a(1177)),$=a(1260),Q=a(1250),X=a(633),Y=a(1240),Z=a(1181),ee=a(1236),te=a(1335),ae=a(2624),ne=a(1245),re=a(4),le=[{id:"marketingName",align:"center",disablePadding:!1,label:"Marketing Name",sort:!0},{id:"action",align:"center",disablePadding:!1,label:"",sort:!0}],ie=Object(ee.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var ce=function(e){var t=ie(e),a=e.selectedProductIds,n=a.length,r=Object(l.useState)(null),c=Object(B.a)(r,2),o=c[0],s=c[1],d=Object(T.c)();function u(){s(null)}return i.a.createElement(te.a,null,i.a.createElement(K.a,{className:"h-64"},i.a.createElement(q.a,{padding:"none",className:"w-40 md:w-64 text-center z-99"},i.a.createElement(D.a,{indeterminate:n>0&&n<e.rowCount,checked:0!==e.rowCount&&n===e.rowCount,onChange:e.onSelectAllClick}),n>0&&i.a.createElement("div",{className:Object(re.default)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",t.actionsButtonWrapper)},i.a.createElement(G.a,{"aria-owns":o?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}},i.a.createElement(y.a,null,"more_horiz")),i.a.createElement(X.a,{id:"selectedProductsMenu",anchorEl:o,open:Boolean(o),onClose:u},i.a.createElement(Z.a,null,i.a.createElement(Y.a,{onClick:function(){d(E(a)),e.onMenuItemClick(),u()}},i.a.createElement($.a,{className:"min-w-40"},i.a.createElement(y.a,null,"delete")),i.a.createElement(Q.a,{primary:"Remove"})))))),le.map((function(t){return i.a.createElement(q.a,{className:"p-1 md:p-1 text-xs",key:t.id,align:t.align,padding:t.disablePadding?"none":"default",sortDirection:e.order.id===t.id&&e.order.direction},t.sort&&i.a.createElement(ne.a,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300},i.a.createElement(ae.a,{active:e.order.id===t.id,direction:e.order.direction,onClick:(a=t.id,function(t){e.onRequestSort(t,a)})},t.label)));var a}),this)))},oe=a(1346),se=(a(1347),a(1244)),de=(a(1300),a(113),a(1324)),ue=a(1204),me=Object(ee.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var pe=Object(U.k)((function(e){var t=Object(T.c)(),a=Object(T.d)(j),n=Object(T.d)((function(e){return e.marketing.marketing.searchText})),r=(me(),Object(l.useState)(!0)),c=Object(B.a)(r,2),o=c[0],s=c[1],d=Object(l.useState)([]),u=Object(B.a)(d,2),m=u[0],p=u[1],b=Object(l.useState)(a),g=Object(B.a)(b,2),f=g[0],E=g[1],k=Object(l.useState)(0),O=Object(B.a)(k,2),x=O[0],w=O[1],S=Object(l.useState)(10),N=Object(B.a)(S,2),C=N[0],y=N[1],P=Object(l.useState)({direction:"asc",id:null}),I=Object(B.a)(P,2),R=I[0],V=I[1],z=i.a.useState({marketingName:"",marketingNameValidation:!1}),H=Object(B.a)(z,2),U=H[0],G=H[1];function $(e,t){var a=t,n="desc";R.id===t&&"desc"===R.direction&&(n="asc"),V({direction:n,id:a})}function Q(e){e.target.checked?p(f.map((function(e){return e.id}))):p([])}function X(){p([])}function Y(e){G(Object(M.a)(Object(M.a)({},U),e))}function Z(){return!U.marketingNameValidation||(G(Object(M.a)(Object(M.a)({},U),{},{marketingNameValidation:!U.marketingName})),!1)}function ee(){if(console.log(Z()),Z()){var e={id:U.id?U.id:Date.now(),marketingName:U.marketingName};t(v(e)),t(h()).then((function(){return s(!1)})),G({marketingName:""})}}return Object(l.useEffect)((function(){t(h()).then((function(){return s(!1)}))}),[t]),Object(l.useEffect)((function(){0!==n.length?(console.log(n),E(W.a.filter(a,(function(e){return e.marketingName.toLowerCase().includes(n.toLowerCase())}))),w(0)):E(a)}),[a,n]),o?i.a.createElement(_.a,null):0===f.length?i.a.createElement("div",{className:"w-full flex flex-col"},i.a.createElement(ue.a,{utils:de.a},i.a.createElement(A.a,{className:"flex-grow overflow-x-auto"},i.a.createElement(L.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle"},i.a.createElement(ce,{selectedProductIds:m,order:R,onSelectAllClick:Q,onRequestSort:$,rowCount:f.length,onMenuItemClick:X}),i.a.createElement(F.a,null,i.a.createElement(K.a,{className:"h-64 cursor-pointer"},i.a.createElement(q.a,{className:"w-40 md:w-64 text-center",padding:"none"}),i.a.createElement(q.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},i.a.createElement(oe.a,{id:"outlined-basic",label:"",variant:"outlined",value:U.marketingName,validation:"marketingName",onChange:Y,willvalidation:!0,validate:U.marketingNameValidation,size:250})),i.a.createElement(q.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center",colSpan:2},i.a.createElement(se.a,{className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:ee},i.a.createElement("span",null,"SAVE"))))))))):i.a.createElement("div",{className:"w-full flex flex-col"},i.a.createElement(ue.a,{utils:de.a},i.a.createElement(A.a,{className:"flex-grow overflow-x-auto"},i.a.createElement(L.a,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",size:"small"},i.a.createElement(ce,{selectedProductIds:m,order:R,onSelectAllClick:Q,onRequestSort:$,rowCount:f.length,onMenuItemClick:X}),i.a.createElement(F.a,null,i.a.createElement(K.a,{className:"h-10 cursor-pointer"},i.a.createElement(q.a,{className:"w-40 md:w-64 text-center",padding:"none"}),i.a.createElement(q.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},i.a.createElement(oe.a,{id:"outlined-basic",label:"",variant:"outlined",value:U.marketingName,validation:"marketingName",onChange:Y,willvalidation:!0,validate:U.marketingNameValidation,size:250})),i.a.createElement(q.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center",colSpan:2},i.a.createElement(se.a,{className:"whitespace-nowrap normal-case",variant:"contained",color:"secondary",onClick:ee},i.a.createElement("span",null,"SAVE")))),W.a.orderBy(f,[R.id],[R.direction]).slice(x*C,x*C+C).map((function(e){var t=-1!==m.indexOf(e.id);return i.a.createElement(K.a,{className:"h-48 cursor-pointer",hover:!0,role:"checkbox","aria-checked":t,tabIndex:-1,key:e.id,selected:t,onClick:function(t){var a;G({marketingName:(a=e).marketingName,id:a.id})}},i.a.createElement(q.a,{className:"w-40 md:w-64 text-center",padding:"none"},i.a.createElement(D.a,{checked:t,onClick:function(e){return e.stopPropagation()},onChange:function(t){return function(e,t){var a=m.indexOf(t),n=[];-1===a?n=n.concat(m,t):0===a?n=n.concat(m.slice(1)):a===m.length-1?n=n.concat(m.slice(0,-1)):a>0&&(n=n.concat(m.slice(0,a),m.slice(a+1))),p(n)}(0,e.id)}})),i.a.createElement(q.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"},e.marketingName),i.a.createElement(q.a,{className:"p-2 md:p-2",component:"th",scope:"row",align:"center"}))}))))),i.a.createElement(J.a,{className:"flex-shrink-0 border-t-1",component:"div",count:f.length,rowsPerPage:C,page:x,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){w(t)},onChangeRowsPerPage:function(e){y(e.target.value)}})))}));t.default=Object(r.a)("marketing",N)((function(){return i.a.createElement(n.a,{classes:{content:"flex",contentCard:"overflow-hidden",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:i.a.createElement(H,null),content:i.a.createElement(pe,null),innerScroll:!0})}))}}]);